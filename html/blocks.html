<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Social Network</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
            integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
            crossorigin="anonymous">
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css">
    <!---<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">-->
    <!---<link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">-->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../css/newsfeed.css">
    <link rel="stylesheet" href="../css/tagsinput.css">
    <link rel="stylesheet" type="text/css" href="../css/modal.css">
    <link rel="stylesheet" type="text/css" href="../css/notifications.css">
    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300&family=Titillium+Web:wght@300&display=swap" rel="stylesheet">

</head>
<body class="font-sans bg-white">

<!--
Create new route/handler for this html
then use $.get("...html") to get the templates in this file
Maybe converting to .htm and dont use <html>, <body> and <head> tags-->

<script id="newPostTemplate" type="text/html">
    <div class="flex">
        <!--<div class="w-1/4">
            <div class="flex">
                <div class="w-1/2">
                    <div class="mb-4" id="profileImage">
                        <img src="{{!profile_pic_URL}}" class="img-circle avatar" alt="user profile image" width="100"
                             height="100">
                    </div>
                </div>
                <div class="w-1/2">
                    <div class="mb-4" id="profileFullName">
                        <div class="text-3xl font-medium text-grey-darkest">
                            Hallo {{!profile.first_name}}!
                        </div>
                    </div>
                    <div class="mb-4" id="profileUsername">
                        <div class="text-xl text-grey-dark font-light">
                            {{!username}}
                        </div>

                    </div>
                </div>
            </div>
            <div class="pb-6 border-b"></div>
        </div>
        <div class="w-3/4 ml-6 mt-2">-->
        <div class="w-full grid grid-cols-8 gap-4">
          <div class="col-start-2 col-span-6 mt-2">

            <div class="panel panel-white bg-white border-blue-lionet post rounded-md" id="newPostPanel">

                <div class="post-heading">
                    <div class="float-left image">
                        <img src="{{!profile_pic_URL}}" class="img-circle avatar rounded-full" alt="user profile image">
                    </div>
                    <div class="float-left meta">
                        <h2>
                            <b>Hallo {{!username}}</b>
                        </h2>
                        <p class="text-sm text-gray-500 hover:text-gray-600 leading-6">Schreibe einen Post!<p>
                    </div>
                </div>

                <div class="post-description">
                    <textarea class="form-textarea mt-1 p-3 block w-full border rounded-md text-sm" id="postFeed" rows="2"
                              placeholder="Poste etwas in deine Timeline"></textarea>
                    <div class="post-description" style="padding-top: 5px;">
                        <div id="postAlert"></div>
                        <div class="grid grid-cols-2 gap-4">
                            <!---                        <div class="flex-1">
                                                        <input type="text" value="" id="addTag" data-role="tagsinput" placeholder="Add Tags">
                                                    </div>
                                                    -->
                            <!--<div class="flex-1">
                                <select id="selectSpace" class="custom-select">
                                    <option value=null selected disabled>Schreibe Nachricht in den Space...</option>
                                </select>
                            </div>-->
                        </div>
                    </div>

                    <div id="postdiv" class="mar-top clearfix p-2">
                        <button class="m-0 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-lionet border-blue-lionet hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 m-0 float-right" id="post"><i class="fa fa-pencil fa-fw"></i>
                            Post
                        </button>
                        <!--<div class="element">
                          <i class="fa fa-file"></i>
                          <button class="btn btn-sm btn-success" id="record"><i class="fa fa-microphone"></i></button>
                          <input type="file" name="files" id="files" multiple>
                        </div>-->
                        <div class="rounded">

                            <!-- <button id="record"
                                    class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-300 hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 btn btn-success">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                     stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
                                </svg>
                            </button> -->
                            <!--<button type="button"
                                    class="inline-flex items-center py-2 px-4 border border-2 rounded-full shadow-sm text-whitebg-indigo-300 hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 btn">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                     fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd"
                                          d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
                                          clip-rule="evenodd"/>

                                    <input type="file" name="files" id="files" multiple>
                                </svg>
                            </button>-->

                            <button type="button"
                                    class="inline-flex items-center py-2 px-4 border border-2 rounded-full shadow-sm text-white bg-blue-lionet border-blue-lionet hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 btn">
                                    <label class="items-center">
                                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                      </svg>
                                      <span class="mt-2 text-base leading-normal"></span>
                                      <input type="file" name="files" id="files" multiple>
                                  </label>
                            </button>

                            <p>
                                <audio id=recordedAudio></audio>
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</script>

<script id="postTemplate" type="text/html">
  <div class="w-full bg-white border border-blue-lionet rounded-md shadow-sm block focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 mb-2 post panel" id={{!_id}} name={{!creation_date}}>
      <div class="post-heading border-b rounded-t-md bg-gray-200">
          <div class="float-left image">
              <img src="{{!authorPicURL}}" class="shadow rounded-full max-w-full h-auto align-middle border-none avatar" alt="user profile image">
          </div>
          <div class="float-left meta">
              <div class="title text-sm h5">
                  <a href="profile/{{!author.username}}"><b>{{!author.username}}</b></a>
                  {{!#hasSpace}}
                  <b>></b>
                  <span class="label label-pill label-primary">{{!space}}</span>
                  {{!/hasSpace}}
                  <p class="mr-4 text-sm text-muted time inline-block" id="agoPost">({{!ago}})</p>
              </div>

          </div>
          <div class="float-right">

              <div class="inline-block align-top">
                <button type="button" onclick="likeDislike(this,'{{!_id}}');" id="likers"
                        class="bg-transparent hover:bg-blue-300 bg-blue-lionet h-7 text-white font-semibold text-xs hover:text-white py-1 px-2 border border-blue-lionet hover:border-transparent rounded" data-toggle="tooltip" data-placement="right" data-html="true"
                        data-original-title="{{!#likers}}<li>{{!.}}</li>{{!/likers}}">
                    <i id="likeIcon" class="fa fa-thumbs-up text-white text-sm"></i> <span id="likeCounter">{{!likes}}</span>
                </button>

                <div x-data="{'showModal': false}" @keydown.escape="showModal:false" class="inline-block">
                  <button id="shareBtn" class="bg-transparent bg-blue-lionet hover:bg-blue-300 bg-white h-7 text-xs text-white font-semibold hover:text-white py-1 px-2 border border-blue-lionet hover:border-transparent rounded" type="button" @click="showModal = true">
                    <i id="shareIcon" class="fa fa-share text-white text-sm"></i>
                  </button>

                  <div class="fixed inset-0 z-30 flex items-center justify-center overflow-auto bg-black bg-opacity-50" x-show="showModal">
                    <div
                        class="max-w-3xl px-6 py-4 mx-auto text-left bg-white rounded shadow-lg"
                        @click.away="showModal = false"
                        x-transition:enter="motion-safe:ease-out duration-300"
                        x-transition:enter-start="opacity-0 scale-90"
                        x-transition:enter-end="opacity-100 scale-100"
                    >
                      <!-- Title / Close-->
                      <div class="flex itemes-center justify-between m-2">
                        <div>
                          <b>Teilen</b><i class="fa fa-envelope p-2"></i>
                        </div>
                        <button type="button" class="z-50 cursor-pointer" @click="showModal = false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                      </div>

                      <!-- Content -->
                      <div>
                        <select id="selectRepostSpace{{!_id}}" class="text-s truncate w-full normal-case font-normal -mt-1 text-gray-500 border rounded p-2">
                            <option value=null>In deine Timeline teilen</option>

                        </select>
                        <br>
                        <textarea class="w-full mt-2 p-2 border rounded" id="shareText{{!_id}}" rows="2"
                                  placeholder="Worüber möchtest du berichten?"></textarea>

                        <div class="panel panel-default border rounded mt-2">
                            <div class="post-heading">

                                <div class="title h5">
                                    <a><b>{{!author.username}}</b></a>
                                    schrieb einen Post.
                                    {{!#hasSpace}}
                                    <b>></b>
                                    <span class="label label-pill label-primary">{{!space}}</span>
                                    {{!/hasSpace}}
                                </div>
                                <h6 class="text-muted time" id="agoPost">{{!ago}}</h6>

                            </div>

                            <div class="post-description">
                                <p>{{!text}}</p>

                                {{!#hasMedia}}
                                <div id="{{!_id}}" class="carousel slide">
                                    {{!#multipleMedia}}
                                    <ol class="carousel-indicators">
                                        <li data-slide-to="0" class="active"></li>
                                        {{!#fileMediaCountTail}}
                                        <li data-slide-to="{{!.}}"></li>
                                        {{!/fileMediaCountTail}}
                                    </ol>
                                    {{!/multipleMedia}}
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            {{!#firstMediaIsImage}}
                                            <img class="d-block w-100" src="{{!firstMediaURL}}"
                                                 alt="post image">
                                            {{!/firstMediaIsImage}}
                                            {{!^firstMediaIsImage}}
                                            <video width="100%" height="100%" autostart="false" controls>
                                                <source src="{{!firstMediaURL}}">
                                                Your browser does not support the video tag.
                                            </video>
                                            {{!/firstMediaIsImage}}
                                        </div>
                                        {{!#tailVideosURL}}
                                        <div class="carousel-item">
                                            <video width="100%" height="100%" autostart="false" controls>
                                                <source src="{{!.}}">
                                                Your browser does not support the video tag.
                                            </video>
                                        </div>
                                        {{!/tailVideosURL}}

                                        {{!#tailImagesURL}}
                                        <div class="carousel-item">
                                            <img class="d-block w-100" src="{{!.}}" alt="post image">
                                        </div>
                                        {{!/tailImagesURL}}

                                    </div>
                                    {{!#multipleMedia}}
                                    <a class="carousel-control-prev"
                                       href="javascript:previousSlide('{{!_id}}');" type="button">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    </a>
                                    <a class="carousel-control-next" href="javascript:nextSlide('{{!_id}}');"
                                       type="button">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    </a>
                                    {{!/multipleMedia}}
                                </div>
                                {{!/hasMedia}}
                                {{!#audiosURL}}
                                <p>
                                    <audio id=voiceInput src={{!.}} controls=true autostart="false"></audio>
                                </p>
                                {{!/audiosURL}}
                                {{!#otherfiles}}
                                <i class="fa fa-download"></i> <a href="{{!path}}" download>{{!name}}</a>
                                {{!/otherfiles}}
                            </div>
                        </div>

                        <div>
                          <button type="button" id="repost" onclick="javascript:repost('{{!_id}}');"
                                  class="bg-blue-lionet hover:bg-blue-500 text-white font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"  data-dismiss="modal">Repost
                          </button>
                        </div>

                      </div>
                    </div>

                  </div>
                </div>
              </div>
              {{!#isAuthor}}
              <div class="inline-block" x-data="{isOpen: false}">
                <button
                        @click="isOpen = !isOpen"
                        @keydown.escape="isOpen = false"
                        class="flex items-center"
                ><div  id="moreOptionMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
                  </svg>
                  </div>
                </button>
                <div x-show="isOpen"
                    @click.away="isOpen = false"
                    class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"
                    >
                    <a class="block w-full" href="javascript:deletePost('{{!_id}}');">Löschen</a>

                    <div x-data="{'showModal': false}" @keydown.escape="showModal:false" class="inline-block block w-full">
                      <button id="updatePostBtn" class="text-left w-full" type="button" @click="showModal = true">
                        <p class="" href="">Bearbeiten</p>
                      </button>

                      <div class="fixed inset-0 z-30 flex items-center justify-center overflow-auto bg-black bg-opacity-50" x-show="showModal">
                        <div
                            class="max-w-3xl w-1/2 px-6 py-4 mx-auto text-left bg-white rounded shadow-lg"
                            @click.away="showModal = false"
                            x-transition:enter="motion-safe:ease-out duration-300"
                            x-transition:enter-start="opacity-0 scale-90"
                            x-transition:enter-end="opacity-100 scale-100"
                        >
                        <div class="flex itemes-center justify-between m-2">
                          <div>
                            <b>Bearbeite deinen Post</b><i class="fa fa-envelope p-2"></i>
                          </div>
                          <button type="button" class="z-50 cursor-pointer" @click="showModal = false">
                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                              </svg>
                          </button>
                        </div>
                        <div id="post-description" class="mt-2">
                          <textarea class="form-textarea mt-1 p-3 block w-full border rounded-md" id="updatePostTextArea" rows="2" placeholder="Poste etwas in deine Timeline">{{!text}}</textarea>
                        </div>
                        <div>
                          <button type="button" id="update" @click="showModal = false" onclick="javascript:updatePost('{{!_id}}');"
                                  class="bg-blue-lionet hover:bg-blue-500 text-white font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"  data-dismiss="modal">Speichern
                          </button>
                        </div>
                        </div>

                      </div>
                    </div>
                </div>
              </div>
              {{!/isAuthor}}
          </div>
      </div>
      <div class="post-description text-sm">
          <div class="p-4 mb-4 rounded grid grid-cols-8 gap-2">
              <p id="post_content" class="col-span-8">{{!text}}</p>
          </div>

          {{!#hasMedia}}
          <div id="{{!_id}}" class="carousel slide">
              {{!#multipleMedia}}
              <ol class="carousel-indicators">
                  <li data-slide-to="0" class="active"></li>
                  {{!#fileMediaCountTail}}
                  <li data-slide-to="{{!.}}"></li>
                  {{!/fileMediaCountTail}}
              </ol>
              {{!/multipleMedia}}
              <div class="carousel-inner">
                  <div class="carousel-item active">
                      {{!#firstMediaIsImage}}
                      <img class="d-block w-100 ml-auto mr-auto" src="{{!firstMediaURL}}" alt="post image" width="600px" height="auto">
                      {{!/firstMediaIsImage}}
                      {{!^firstMediaIsImage}}
                      <video width="100%" height="100%" autostart="false" controls>
                          <source src="{{!firstMediaURL}}">
                          Your browser does not support the video tag.
                      </video>
                      {{!/firstMediaIsImage}}
                  </div>
                  {{!#tailVideosURL}}
                  <div class="carousel-item">
                      <video width="100%" height="100%" autostart="false" controls>
                          <source src="{{!.}}">
                          Your browser does not support the video tag.
                      </video>
                  </div>
                  {{!/tailVideosURL}}

                  {{!#tailImagesURL}}
                  <div class="carousel-item">
                      <img class="d-block w-100" src="{{!.}}" alt="post image">
                  </div>
                  {{!/tailImagesURL}}

              </div>
              {{!#multipleMedia}}
              <a class="carousel-control-prev" href="javascript:previousSlide('{{!_id}}');" type="button">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              </a>
              <a class="carousel-control-next" href="javascript:nextSlide('{{!_id}}');" type="button">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
              </a>
              {{!/multipleMedia}}
          </div>
          {{!/hasMedia}}
          {{!#audiosURL}}
          <p>
              <audio id=voiceInput src={{!.}} controls=true autostart="false"></audio>
          </p>
          {{!/audiosURL}}
          {{!#otherfiles}}
          <i class="fa fa-download"></i> <a href="{{!path}}" download>{{!name}}</a>
          {{!/otherfiles}}

          <div class="stats">

          </div>
      </div>
      <div class="write-comment-box w-full">
        <div class="input-group flex" id="commentBox">
            <input class="form-control mt-1 block w-ful flex-1 m-2 p-2" id="commentInput" placeholder="Schreibe einen Kommentar" type="text">
            <!--<span class="p-1">
              <a href="javascript:void(0);"><i class="fa fa-edit" id="postComment"></i></a>
            </span>-->
        </div>
      </div>
      <div class="post-footer w-full bg-gray-50 rounded-b-md">
          <ul class="comments-list border-2-2 border-blue-lionet border-l-2">
          </ul>
      </div>
    </div>
    <div class="divide-y-2 divide-blue-lionet"><div></div><div></div></div>
</script>

<script id="postTemplate1" type="text/html">
    <div class="w-full bg-white shadow-sm block focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 p-2 mb-2 post panel" id={{!_id}} name={{!creation_date}}>
        <div class="post-heading border-b">
            <div class="float-left image">
                <img src="{{!authorPicURL}}" class="img-circle avatar" alt="user profile image">
            </div>
            <div class="float-left meta">
                <div class="title h5">
                    <a href="profile/{{!author.username}}"><b>{{!author.username}}</b></a>
                    schrieb einen Post.
                    {{!#hasSpace}}
                    <b>></b>
                    <span class="label label-pill label-primary">{{!space}}</span>
                    {{!/hasSpace}}
                </div>
                <h6 class="text-muted time" id="agoPost">{{!ago}}</h6>
            </div>
            <div class="float-right">
                {{!#isAuthor}}
                <div class="relative" x-data="{isOpen: false}">
                  <button
                          @click="isOpen = !isOpen"
                          @keydown.escape="isOpen = false"
                          class="flex items-center"
                  ><div class="dot" id="moreOptionMenu" data-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false"></div></button>
                  <div x-show="isOpen"
                      @click.away="isOpen = false"
                      class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"
                      >
                      <a class="block w-full" href="javascript:deletePost('{{!_id}}');">Löschen</a>
                    </div>
                </div>
                {{!/isAuthor}}
            </div>
        </div>
        <div class="post-description">
            <div class="p-4 mb-4 rounded grid grid-cols-8 gap-2">
                <p id="post_content" class="col-span-7">{{!text}}</p>

                <div class="inline-block">
                  <button type="button" onclick="likeDislike(this,'{{!_id}}');" id="likers"
                          class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-1 px-2 border border-blue-500 hover:border-transparent rounded" data-toggle="tooltip" data-placement="right" data-html="true"
                          data-original-title="{{!#likers}}<li>{{!.}}</li>{{!/likers}}">
                      <i id="likeIcon" class="fa fa-thumbs-up text-blue-700"></i> <span id="likeCounter">{{!likes}}</span>
                  </button>

                  <div x-data="{'showModal': false}" @keydown.escape="showModal:false" class="inline-block">
                    <button id="shareBtn" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-1 px-2 border border-blue-500 hover:border-transparent rounded" type="button" @click="showModal = true">
                      <i id="shareIcon" class="fa fa-share"></i>
                    </button>

                    <div class="fixed inset-0 z-30 flex items-center justify-center overflow-auto bg-black bg-opacity-50" x-show="showModal">
                      <div
                          class="max-w-3xl px-6 py-4 mx-auto text-left bg-white rounded shadow-lg"
                          @click.away="showModal = false"
                          x-transition:enter="motion-safe:ease-out duration-300"
                          x-transition:enter-start="opacity-0 scale-90"
                          x-transition:enter-end="opacity-100 scale-100"
                      >
                        <!-- Title / Close-->
                        <div class="flex itemes-center justify-between m-2">
                          <div>
                            <b>Teilen</b><i class="fa fa-envelope p-2"></i>
                          </div>
                          <button type="button" class="z-50 cursor-pointer" @click="showModal = false">
                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                              </svg>
                          </button>
                        </div>

                        <!-- Content -->
                        <div>
                          <select id="selectRepostSpace{{!_id}}" class="text-s truncate w-full normal-case font-normal -mt-1 text-gray-500 border rounded p-2">
                              <option value=null>In deine Timeline teilen</option>

                          </select>
                          <br>
                          <textarea class="w-full mt-2 p-2 border rounded" id="shareText{{!_id}}" rows="2"
                                    placeholder="Worüber möchtest du berichten?"></textarea>

                          <div class="panel panel-default border rounded mt-2">
                              <div class="post-heading">

                                  <div class="title h5">
                                      <a><b>{{!author.username}}</b></a>
                                      schrieb einen Post.
                                      {{!#hasSpace}}
                                      <b>></b>
                                      <span class="label label-pill label-primary">{{!space}}</span>
                                      {{!/hasSpace}}
                                  </div>
                                  <h6 class="text-muted time" id="agoPost">{{!ago}}</h6>

                              </div>

                              <div class="post-description">
                                  <p>{{!text}}</p>

                                  {{!#hasMedia}}
                                  <div id="{{!_id}}" class="carousel slide">
                                      {{!#multipleMedia}}
                                      <ol class="carousel-indicators">
                                          <li data-slide-to="0" class="active"></li>
                                          {{!#fileMediaCountTail}}
                                          <li data-slide-to="{{!.}}"></li>
                                          {{!/fileMediaCountTail}}
                                      </ol>
                                      {{!/multipleMedia}}
                                      <div class="carousel-inner">
                                          <div class="carousel-item active">
                                              {{!#firstMediaIsImage}}
                                              <img class="d-block w-100" src="{{!firstMediaURL}}"
                                                   alt="post image">
                                              {{!/firstMediaIsImage}}
                                              {{!^firstMediaIsImage}}
                                              <video width="100%" height="100%" autostart="false" controls>
                                                  <source src="{{!firstMediaURL}}">
                                                  Your browser does not support the video tag.
                                              </video>
                                              {{!/firstMediaIsImage}}
                                          </div>
                                          {{!#tailVideosURL}}
                                          <div class="carousel-item">
                                              <video width="100%" height="100%" autostart="false" controls>
                                                  <source src="{{!.}}">
                                                  Your browser does not support the video tag.
                                              </video>
                                          </div>
                                          {{!/tailVideosURL}}

                                          {{!#tailImagesURL}}
                                          <div class="carousel-item">
                                              <img class="d-block w-100" src="{{!.}}" alt="post image">
                                          </div>
                                          {{!/tailImagesURL}}

                                      </div>
                                      {{!#multipleMedia}}
                                      <a class="carousel-control-prev"
                                         href="javascript:previousSlide('{{!_id}}');" type="button">
                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                      </a>
                                      <a class="carousel-control-next" href="javascript:nextSlide('{{!_id}}');"
                                         type="button">
                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                      </a>
                                      {{!/multipleMedia}}
                                  </div>
                                  {{!/hasMedia}}
                                  {{!#audiosURL}}
                                  <p>
                                      <audio id=voiceInput src={{!.}} controls=true autostart="false"></audio>
                                  </p>
                                  {{!/audiosURL}}
                                  {{!#otherfiles}}
                                  <i class="fa fa-download"></i> <a href="{{!path}}" download>{{!name}}</a>
                                  {{!/otherfiles}}
                              </div>
                          </div>

                          <div>
                            <button type="button" id="repost" onclick="javascript:repost('{{!_id}}');"
                                    class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"  data-dismiss="modal">Repost
                            </button>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>
                </div>
            </div>

            {{!#hasMedia}}
            <div id="{{!_id}}" class="carousel slide">
                {{!#multipleMedia}}
                <ol class="carousel-indicators">
                    <li data-slide-to="0" class="active"></li>
                    {{!#fileMediaCountTail}}
                    <li data-slide-to="{{!.}}"></li>
                    {{!/fileMediaCountTail}}
                </ol>
                {{!/multipleMedia}}
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        {{!#firstMediaIsImage}}
                        <img class="d-block w-100" src="{{!firstMediaURL}}" alt="post image">
                        {{!/firstMediaIsImage}}
                        {{!^firstMediaIsImage}}
                        <video width="100%" height="100%" autostart="false" controls>
                            <source src="{{!firstMediaURL}}">
                            Your browser does not support the video tag.
                        </video>
                        {{!/firstMediaIsImage}}
                    </div>
                    {{!#tailVideosURL}}
                    <div class="carousel-item">
                        <video width="100%" height="100%" autostart="false" controls>
                            <source src="{{!.}}">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    {{!/tailVideosURL}}

                    {{!#tailImagesURL}}
                    <div class="carousel-item">
                        <img class="d-block w-100" src="{{!.}}" alt="post image">
                    </div>
                    {{!/tailImagesURL}}

                </div>
                {{!#multipleMedia}}
                <a class="carousel-control-prev" href="javascript:previousSlide('{{!_id}}');" type="button">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </a>
                <a class="carousel-control-next" href="javascript:nextSlide('{{!_id}}');" type="button">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </a>
                {{!/multipleMedia}}
            </div>
            {{!/hasMedia}}
            {{!#audiosURL}}
            <p>
                <audio id=voiceInput src={{!.}} controls=true autostart="false"></audio>
            </p>
            {{!/audiosURL}}
            {{!#otherfiles}}
            <i class="fa fa-download"></i> <a href="{{!path}}" download>{{!name}}</a>
            {{!/otherfiles}}

            <div class="stats">

            </div>
        </div>
        <div class="post-footer w-full">
            <div class="input-group flex" id="commentBox">
                <input class="form-control mt-1 block w-full border rounded-md flex-1" id="commentInput" placeholder="Schreibe einen Kommentar" type="text">
                <span class="p-1">
                  <a href="javascript:void(0);"><i class="fa fa-edit" id="postComment"></i></a>
                </span>
            </div>
            <ul class="comments-list">
            </ul>
        </div>
    </div>
</script>

<script id="repostTemplate" type="text/html">
    <div class="w-full bg-white border rounded-md shadow-sm block focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 mb-2 post panel" id={{!_id}} name={{!creation_date}}>
        <div class="post-heading border-b bg-gray-200">
            <div class="float-left image">
                <img src="{{!authorPicURL}}" class="shadow rounded-full max-w-full h-auto align-middle border-none avatar" alt="user profile image">
            </div>
            <div class="float-left meta">
                <div class="title text-sm h5">
                    <a href="profile/{{!repostAuthor}}"><b>{{!repostAuthor}}</b></a>
                    teilte einen Post.
                    {{!#hasSpace}}
                    <b>></b>
                    <span class="label label-pill label-primary">{{!space}}</span>
                    {{!/hasSpace}}
                    <p class="mr-4 text-xs text-muted time inline-block" id="agoPost">({{!ago}})</p>
                </div>

            </div>
            <div class="float-right">

                <div class="inline-block align-top">
                  <div>
                    <button type="button" onclick="likeDislike(this,'{{!_id}}');" id="likers"
                            class="bg-transparent hover:bg-blue-500 bg-white h-8 text-gray-700 font-semibold hover:text-white py-1 px-2 border border-gray-500 hover:border-transparent rounded" data-toggle="tooltip" data-placement="right" data-html="true"
                            data-original-title="{{!#likers}}<li>{{!.}}</li>{{!/likers}}">
                        <i id="likeIcon" class="fa fa-thumbs-up text-blue-700"></i> <span id="likeCounter">{{!likes}}</span>
                    </button>

                    <div x-data="{'showModal': false}" @keydown.escape="showModal:false" class="inline-block">
                      <button id="shareBtn" class="bg-transparent hover:bg-blue-500 bg-white h-8 text-gray-700 font-semibold hover:text-white py-1 px-2 border border-gray-500 hover:border-transparent rounded" type="button" @click="showModal = true">
                        <i id="shareIcon" class="fa fa-share"></i>
                      </button>

                      <!-- Modal -->
                      <div class="fixed inset-0 z-30 flex items-center justify-center overflow-auto bg-black bg-opacity-50" x-show="showModal">
                        <div
                            class="max-w-3xl px-6 py-4 mx-auto text-left bg-white rounded shadow-lg"
                            @click.away="showModal = false"
                            x-transition:enter="motion-safe:ease-out duration-300"
                            x-transition:enter-start="opacity-0 scale-90"
                            x-transition:enter-end="opacity-100 scale-100"
                        >
                          <!-- Title / Close-->
                          <div class="flex itemes-center justify-between m-2">
                            <div>
                              <b>Teilen</b><i class="fa fa-envelope p-2"></i>
                            </div>
                            <button type="button" class="z-50 cursor-pointer" @click="showModal = false">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                          </div>

                          <!-- Content -->
                          <div>
                            <select id="selectRepostSpace{{!_id}}" class="text-s truncate w-full normal-case font-normal -mt-1 text-gray-500 border rounded p-2">
                                <option value=null>In deine Timeline teilen</option>

                            </select>
                            <br>
                            <textarea class="w-full mt-2 p-2 border rounded" id="shareText{{!_id}}" rows="2"
                                      placeholder="Worüber möchtest du berichten?"></textarea>

                            <div class="panel panel-default border rounded mt-2">
                                <div class="post-heading">

                                    <div class="title h5">
                                        <a><b>{{!author.username}}</b></a>
                                        schrieb einen Post.
                                        {{!#hasSpace}}
                                        <b>></b>
                                        <span class="label label-pill label-primary">{{!space}}</span>
                                        {{!/hasSpace}}
                                    </div>
                                    <h6 class="text-muted time" id="agoPost">{{!ago}}</h6>

                                </div>

                                <div class="post-description">
                                    <p>{{!text}}</p>

                                    {{!#hasMedia}}
                                    <div id="{{!_id}}" class="carousel slide">
                                        {{!#multipleMedia}}
                                        <ol class="carousel-indicators">
                                            <li data-slide-to="0" class="active"></li>
                                            {{!#fileMediaCountTail}}
                                            <li data-slide-to="{{!.}}"></li>
                                            {{!/fileMediaCountTail}}
                                        </ol>
                                        {{!/multipleMedia}}
                                        <div class="carousel-inner">
                                            <div class="carousel-item active">
                                                {{!#firstMediaIsImage}}
                                                <img class="d-block w-100" src="{{!firstMediaURL}}"
                                                     alt="post image">
                                                {{!/firstMediaIsImage}}
                                                {{!^firstMediaIsImage}}
                                                <video width="100%" height="100%" autostart="false" controls>
                                                    <source src="{{!firstMediaURL}}">
                                                    Your browser does not support the video tag.
                                                </video>
                                                {{!/firstMediaIsImage}}
                                            </div>
                                            {{!#tailVideosURL}}
                                            <div class="carousel-item">
                                                <video width="100%" height="100%" autostart="false" controls>
                                                    <source src="{{!.}}">
                                                    Your browser does not support the video tag.
                                                </video>
                                            </div>
                                            {{!/tailVideosURL}}

                                            {{!#tailImagesURL}}
                                            <div class="carousel-item">
                                                <img class="d-block w-100" src="{{!.}}" alt="post image">
                                            </div>
                                            {{!/tailImagesURL}}

                                        </div>
                                        {{!#multipleMedia}}
                                        <a class="carousel-control-prev"
                                           href="javascript:previousSlide('{{!_id}}');" type="button">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        </a>
                                        <a class="carousel-control-next" href="javascript:nextSlide('{{!_id}}');"
                                           type="button">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        </a>
                                        {{!/multipleMedia}}
                                    </div>
                                    {{!/hasMedia}}
                                    {{!#audiosURL}}
                                    <p>
                                        <audio id=voiceInput src={{!.}} controls=true autostart="false"></audio>
                                    </p>
                                    {{!/audiosURL}}
                                    {{!#otherfiles}}
                                    <i class="fa fa-download"></i> <a href="{{!path}}" download>{{!name}}</a>
                                    {{!/otherfiles}}
                                </div>
                            </div>

                            <div>
                              <button type="button" id="repost" onclick="javascript:repost('{{!_id}}');"
                                      class="bg-blue-lionet hover:bg-blue-500 text-white font-semibold hover:text-white py-2 px-4 border border-blue-lionet hover:border-transparent rounded"  data-dismiss="modal">Repost
                              </button>
                            </div>

                          </div>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                {{!#isRepostAuthor}}
                <div class="inline-block" x-data="{isOpen: false}">
                  <button
                          @click="isOpen = !isOpen"
                          @keydown.escape="isOpen = false"
                          class="flex items-center"
                  ><div class="dot" id="moreOptionMenu" data-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false"></div></button>
                  <div x-show="isOpen"
                      @click.away="isOpen = false"
                      class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"
                      >
                      <a class="block w-full" href="javascript:deletePost('{{!_id}}');">Löschen</a>
                      <div x-data="{'showModal': false}" @keydown.escape="showModal:false" class="inline-block block w-full">
                        <button id="updatePostBtn" class="text-left w-full" type="button" @click="showModal = true">
                          <p class="" href="">Bearbeiten</p>
                        </button>

                        <div class="fixed inset-0 z-30 flex items-center justify-center overflow-auto bg-black bg-opacity-50" x-show="showModal">
                          <div
                              class="max-w-3xl w-1/2 px-6 py-4 mx-auto text-left bg-white rounded shadow-lg"
                              @click.away="showModal = false"
                              x-transition:enter="motion-safe:ease-out duration-300"
                              x-transition:enter-start="opacity-0 scale-90"
                              x-transition:enter-end="opacity-100 scale-100"
                          >
                          <div class="flex itemes-center justify-between m-2">
                            <div>
                              <b>Bearbeite deinen Post</b><i class="fa fa-envelope p-2"></i>
                            </div>
                            <button type="button" class="z-50 cursor-pointer" @click="showModal = false">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                          </div>
                          <div id="post-description" class="mt-2">
                            <textarea id="update_repost_content" class="form-textarea mt-1 p-3 block w-full border rounded-md" id="updatePostTextArea" rows="2" placeholder="Poste etwas in deine Timeline">{{!repostText}}</textarea>
                          </div>
                          <div>
                            <button type="button" id="update" @click="showModal = false" onclick="javascript:updateRepost('{{!_id}}');"
                                    class="bg-blue-lionet hover:bg-blue-500 text-white font-semibold hover:text-white py-2 px-4 border border-blue-lionet hover:border-transparent rounded"  data-dismiss="modal">Speichern
                            </button>
                          </div>
                          </div>

                        </div>
                      </div>
                    </div>
                </div>
                {{!/isRepostAuthor}}
            </div>
        </div>
        <div class="post-description text-sm">
          <div class="p-4 mb-4 rounded grid grid-cols-8 gap-2">
              <div class="col-span-8">
                <p id="repost_content">{{!repostText}}</p>
              </div>

            </div>


            <div class="border w-full border rounded-md shadow-sm block focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 rounded-md p-2">
                <div class="post-heading border-b bg-gray-200">
                    <div class="float-left image">
                        <img src="{{!authorPicURL}}" class="shadow rounded-full max-w-full h-auto align-middle border-none avatar" alt="user profile image">
                    </div>
                    <div class="float-left meta">
                        <div class="title text-sm h5">
                            <a href="profile/{{!author.username}}"><b>{{!author.username}}</b></a>
                            sch
                            {{!^isRepost}}
                            {{!#hasSpace}}
                            <b>></b>
                            <span class="label label-pill label-primary">{{!space}}</span>
                            {{!/hasSpace}}
                            {{!/isRepost}}
                            <p class="mr-4 text-xs text-muted time inline-block" id="originalAgo">{{!originalAgo}}</p>
                        </div>

                    </div>
                </div>

                <div class="post-description">
                    <p>{{!text}}</p>

                    {{!#hasMedia}}
                    <div id="{{!_id}}" class="carousel slide">
                        {{!#multipleMedia}}
                        <ol class="carousel-indicators">
                            <li data-slide-to="0" class="active"></li>
                            {{!#fileMediaCountTail}}
                            <li data-slide-to="{{!.}}"></li>
                            {{!/fileMediaCountTail}}
                        </ol>
                        {{!/multipleMedia}}
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                {{!#firstMediaIsImage}}
                                <img class="d-block w-100" src="{{!firstMediaURL}}" alt="post image">
                                {{!/firstMediaIsImage}}
                                {{!^firstMediaIsImage}}
                                <video width="100%" height="100%" autostart="false" controls>
                                    <source src="{{!firstMediaURL}}">
                                    Your browser does not support the video tag.
                                </video>
                                {{!/firstMediaIsImage}}
                            </div>
                            {{!#tailVideosURL}}
                            <div class="carousel-item">
                                <video width="100%" height="100%" autostart="false" controls>
                                    <source src="{{!.}}">
                                    Your browser does not support the video tag.
                                </video>
                            </div>
                            {{!/tailVideosURL}}

                            {{!#tailImagesURL}}
                            <div class="carousel-item">
                                <img class="d-block w-100" src="{{!.}}" alt="post image">
                            </div>
                            {{!/tailImagesURL}}

                        </div>
                        {{!#multipleMedia}}
                        <a class="carousel-control-prev" href="javascript:previousSlide('{{!_id}}');" type="button">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        </a>
                        <a class="carousel-control-next" href="javascript:nextSlide('{{!_id}}');" type="button">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        </a>
                        {{!/multipleMedia}}
                    </div>
                    {{!/hasMedia}}
                    {{!#audiosURL}}
                    <p>
                        <audio id=voiceInput src={{!.}} controls=true autostart="false"></audio>
                    </p>
                    {{!/audiosURL}}
                    {{!#otherfiles}}
                    <i class="fa fa-download"></i> <a href="{{!path}}" download>{{!name}}</a>
                    {{!/otherfiles}}
                </div>
            </div>
        </div>
        <div class="write-comment-box w-full">
          <div class="input-group flex" id="commentBox">
              <input class="form-control mt-1 block w-ful flex-1 m-2 p-2" id="commentInput" placeholder="Schreibe einen Kommentar" type="text">
              <!--<span class="p-1">
                <a href="javascript:void(0);"><i class="fa fa-edit" id="postComment"></i></a>
              </span>-->
          </div>
        </div>
        <div class="post-footer w-full bg-gray-50">
            <ul class="comments-list border-2-2 border-blue-lionet border-l-2">
            </ul>
        </div>
    </div>
    <div class="divide-y-2 divide-blue-lionet"><div></div><div></div></div>
</script>

<script id="commentTemplate" type="text/html">
    <li class="comment w-full block w-full  sm:text-sm p-2" id={{!_id}}>
        <a class="float-left" href="javascript:void(0);">
            <img class="shadow rounded-full max-w-full h-auto align-middle border-none avatar" src="{{!authorPicURL}}" alt="avatar">
        </a>
        <div class="float-right pt-2">
            {{!#isCommentAuthor}}
            <div class="dropdown">
                <div class="relative" x-data="{isOpen: false}">
                  <button
                          @click="isOpen = !isOpen"
                          @keydown.escape="isOpen = false"
                          class="flex items-center"
                  ><div class="dot" id="moreOptionMenuComment" data-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false"></div></button>
                  <div x-show="isOpen"
                      @click.away="isOpen = false"
                      class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"
                      >
                      <a class="block w-full" href="javascript:deleteComment('{{!_id}}')">Löschen</a>
                    </div>
                </div>
            </div>
            {{!/isCommentAuthor}}
        </div>
        <div class="comment-body bg-white border border-gray-300 rounded-md pt-1 pl-2 pr-2 pb-2">
            <div class="comment-heading">
                <a href="profile/{{!author.username}}"><h4 class="user">{{!author.username}}</h4></a>
                <h5 class="time" id="agoComment">{{!ago}}</h5>
            </div>
            <p class="pt-1">{{!text}}</p>
        </div>
    </li>
</script>

<script id="tagTemplate" type="text/html">
    <!--<span class="inline-block border border-blue rounded py-1 px-3 bg-blue text-white">{{!text}}</span>-->
</script>

<script id=spaceTemplate type="text/html">

  <a class="dropdown-item block w-full hover:bg-gray-200" id={{!_id}} href="../space/{{!name}}">{{!name}} {{!^inSpace}}
      <!--<button type="button" id="joinSpace" name={{!name}} class="btn btn-outline-success">Beitreten </button>-->
      {{!/inSpace}}</a>
</script>

<script id="spaceTemplateSelect" type="text/html">
    <option value={{!name}}>{{!name}}</option>
</script>

<script id="profileTemplate1" type="text/html">
    <div class="panel panel-white profile-widget" id="profilePanel">
        <div class="row">
            <div class="col-sm-12">
                <div class="image-container bg2" style="background:url(https://via.placeholder.com/400x200)">
                    <img src={{!profile_pic_URL}} class="avatar" alt="avatar">
                </div>
            </div>
            <div class="col-sm-12">
                <div class="details">
                    <h4>{{!username}}<i class="fa fa-sheild"></i></h4>
                    <div>{{!email}}</div>
                    <div class="mg-top-10">
                        {{!#isFollowed}}
                        <a href="javascript:deleteFollow('{{!username}}');" class="btn btn-danger">Entfolgen</a>
                        {{!/isFollowed}}
                        {{!^isFollowed}}
                        <a href="javascript:postFollow('{{!username}}');" class="btn btn-warning">Folgen</a>
                        {{!/isFollowed}}
                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#followModal">
                            Folgt ({{!followSize}})
                        </button>
                    </div>

                    <!-- Modal -->
                    <div class="modal" id="followModal" tabindex="-1" role="dialog" aria-labelledby="followModalLabel"
                         aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="followModalLabel">Folgt</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <ul class="list-group">
                                        {{!#follows}}
                                        <li class="list-group-item">{{!.}}</li>
                                        {{!/follows}}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

<script id="profileTemplate" type="text/html">
  <div class="container mx-auto my-5 p-5">
    <div class="md:flex no-wrap md:-mx-2 bg-white border rounded-md border-blue-lionet p-2">
        <div class="float-left w-full md:w-2/6 md:mx-2 h-auto">
            <div class="bg-white p-2 mb-8">
                <div class="image overflow-hidden float-left ml-8">
                    <img class="mx-auto mt-12"
                         src={{!profile_pic_URL}}
                         alt="profile pic"
                         width = 150
                         height = auto
                         id="photoFile">
                    <h1 class="w-full text-gray-900 font-bold text-xl leading-8 my-1">{{!username}}</h1>
                </div>

            </div>
            <!-- <div class="bg-white p-2 mt-28 mb-16">

                <h3 class="w-full text-gray-600 font-lg text-semibold leading-6 ml-8 float-left">{{!email}}</h3>
                <p class="w-80 text-sm text-gray-500 hover:text-gray-600 leading-6 ml-8 float-left">{{!profile.bio}}</p>
            </div> -->
            <!-- <div class="bg-white p-2">
                <ul class="bg-gray-100 text-gray-600 hover:text-gray-700 hover:shadow py-1 px-3 mt-3 ml-6 w-80 divide-y rounded shadow-sm">
                    <li class="flex items-center py-1">
                        <span>Status</span>
                        <span class="ml-auto"><span
                                class="bg-green-500 py-1 px-2 rounded text-white text-sm">Aktiv</span></span>
                    </li>
                    <li class="flex items-center py-3">
                        <span>Mitglied seit</span>
                        <span class="ml-auto">07 Nov. 2016</span>
                    </li>
                </ul>
            </div> -->
        </div>

        <div class="w-full md:w-4/6 mx-2" id="profileRightSideContainer">
            <!-- About Section -->
            <div class="bg-white p-5 shadow-sm rounded-sm hover:shadow">

                <div class="flex items-center space-x-2 font-semibold text-gray-900 leading-8">

                    <span clas="text-green-500">
                        <svg class="h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                    </span>
                    <span class="tracking-wide">Über</span>

                </div>
                <div class="text-gray-700">
                    <div class="grid text-base">
                        <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Vorname</div>
                            <div class="px-4 py-2">{{!profile.first_name}}</div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Nachname</div>
                            <div class="px-4 py-2">{{!profile.last_name}}</div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Institution</div>
                            <div class="px-4 py-2">{{!profile.institution}}</div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Telefon</div>
                            <div class="px-4 py-2">+11 998001001</div>
                        </div>
                        <!-- <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Gegenwärtige Adresse</div>
                            <div class="px-4 py-2">{{!profile.address}}</div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Permanente Adresse</div>
                            <div class="px-4 py-2">Arlington Heights, IL, Illinois</div>
                        </div> -->
                        <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Email</div>
                            <div class="px-4 py-2">
                                <a class="text-blue-800" href="mailto:">{{!email}}</a>
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">Geburtstag</div>
                            <div class="px-4 py-2">{{!profile.birthday}}</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End of about section-->
        </div>
      </div>
    </div>
</script>

<script id="friendsTemplate" type="text/html">
    <div class="container mx-auto my-5 p-5">
        <div class="md:flex no-wrap md:-mx-2 bg-white border rounded-md border-blue-lionet p-2">
            <!--Friends section-->
            <div class="bg-white p-3 hover:shadow">
                <div class="flex items-center space-x-3 font-semibold text-gray-900 text-xl leading-8">
                    <span class="text-green-500">
                        <svg class="h-5 fill-current" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                        </svg>
                    </span>
                    <span>Folgt</span>
                </div>
                <div class="grid grid-cols-3">
                    {{!#follows}}
                    <div class="text-center my-2">
                        <img class="h-16 w-16 rounded-full mx-auto"
                                src=""
                                alt="">
                        <a href="../profile/{{!.}}" class="text-main-color">{{!.}}</a>
                    </div>
                    {{!/follows}}

                </div>
            </div>
        </div>
    </div>
    <!-- End of friends card -->
</script>

<script id="experienceTemplate" type="text/html">
    <div class="container mx-auto my-5 p-5">
        <div class="md:flex no-wrap md:-mx-2 bg-white border rounded-md border-blue-lionet p-2">
            <!-- Experience-->
            <div class="bg-white w-full p-3 shadow-sm rounded-sm">
                <div class="bg-white p-3">
                    <div class="flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3">
                        <span clas="text-green-500">
                            <svg class="h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                        </span>
                        <span class="tracking-wide">Erfahrungen</span>
                    </div>
                    <ul class="p-2">
                        {{!#profile.experience}}
                        <li class="border list-none rounded-sm px-1 py-1">
                            <div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>{{!.}}
                            </div>
                        </li>
                        {{!/profile.experience}}
                    </ul>
                </div>
            </div>
            <!-- End of Experience-->
        </div>
    </div>
</script>

<script id="educationTemplate" type="text/html">
    <div class="container mx-auto my-5 p-5">
        <div class="md:flex no-wrap md:-mx-2 bg-white border rounded-md border-blue-lionet p-2">
            <!-- Education -->
            <div class="bg-white w-full p-3 shadow-sm rounded-sm">
                <div class="bg-white p-3">
                    <div class="flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3">
                        <span clas="text-green-500">
                            <svg class="h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                <path fill="#fff" d="M12 14l9-5-9-5-9 5 9 5z"/>
                                <path fill="#fff"
                                        d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"/>
                            </svg>
                        </span>
                        <span class="tracking-wide">Ausbildung</span>
                    </div>
                    <ul class="p-2">
                        {{!#profile.education}}
                        <li class="border list-none rounded-sm px-1 py-1">
                            <div>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>{{!.}}
                            </div>
                        </li>
                        {{!/profile.education}}
                    </ul>
                </div>
            </div>
            <!-- End of Education-->
        </div>
    </div>
    <!-- End of friends card -->
</script>

<script id="spaceHeaderTemplate" type="text/html">
  <div class="flex" x-data="setup()">

    <div class="flex-none w-1/5 border rounded-md border-blue-lionet bg-white p-2 mr-2" style="height: 0%">
      <div id="spaceProfilePanel">
        <div class="flex flex-col flex-1 bg-white" >
            <div class="flex-1 flex flex-col">
                <div class="flex-shrink-0 flex ">
                    <a href="../space/{{!spacename}}" class="flex-shrink-0 w-full group block">
                        <div class="flex items-center">
                            <div>
                                <img class="inline-block h-10 w-10 rounded-full"
                                     src="http://localhost:8903/uploads/default_group_pic.jpg"
                                     alt="SpaceFoto">
                            </div>
                            <div class="ml-3">
                                <p class="text-m font-bold text-gray-700 group-hover:text-gray-900">
                                    {{!spacename}}
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
                <nav class="mt-5 flex-1 px-2 bg-white space-y-1" >
                    <template x-for="(tab, index) in tabs" :key="index">
                      <div class="grid grid-rows-1 grid-flow-col" @click="triggerDisplay(index)">
                        <span x-show="index===0" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                          :class="activeTab===0 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                          >
                          <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                               xmlns="http://www.w3.org/2000/svg"
                               fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"
                               :class="activeTab===0 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                          </svg>
                        </span>
                        <span x-show="index===1" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                          :class="activeTab===1 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                          >
                          <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                               xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                               stroke="currentColor" aria-hidden="true"
                               :class="activeTab===1 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                          </svg>
                        </span>
                        <span x-show="index===2" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                          :class="activeTab===2 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                          >
                          <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                               xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                               stroke="currentColor" aria-hidden="true"
                               :class="activeTab===2 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                          </svg>
                        </span>
                        <span x-show="index===3" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                          :class="activeTab===3 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                          >
                          <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                               xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                               stroke="currentColor" aria-hidden="true"
                               :class="activeTab===3 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
                          </svg>
                        </span>

                        <div class="cursor-pointer py-3 rounded-r-lg transition"
                          :class="activeTab===index ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                          x-text="tab"
                          >
                        </div>
                      </div>
                    </template>


                </nav>
            </div>
        </div>
      </div>
    </div>
    <div class="flex-none w-3/5 border rounded-md border-blue-lionet bg-white p-2 mr-2">
      <div id="content_container" class="p-2">
        <div class="" >
          <div x-show="activeTab===0"  id="newPostPanel" >
            <div class="post-heading">
                <div class="float-left image">
                    <img src="{{!user.profile_pic_URL}}" class="inline-block h-10 w-10 mr-2 mb-1 rounded-full" alt="user profile image">
                </div>
                <div class="float-left meta">
                    <h2>
                        <b>Hallo {{!user.username}}</b>
                    </h2>
                    <p class="text-sm text-gray-500 hover:text-gray-600 leading-6">Schreibe einen Post in diesen Space!<p>
                </div>
            </div>
            <div class="post-description">
                <textarea class="form-textarea mr-4 p-2 block w-full border rounded-md" id="postFeed" rows="4"
                          placeholder="Poste etwas in deine Timeline?"></textarea>
                <div class="post-description" style="padding-top: 5px;">
                    <div id="postAlert"></div>
                    <div class="grid grid-cols-2 gap-4">

                    </div>
                </div>

                <div id="postdiv" class="mar-top clearfix p-2">
                    <button class="m-0 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-lionet border-blue-lionet hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 m-0 float-right" id="post"><i class="fa fa-pencil fa-fw"></i>
                        Post
                    </button>
                    <div class="rounded">
                        <button type="button"
                                class="inline-flex items-center py-2 px-4 border border-2 rounded-full shadow-sm text-white bg-blue-lionet border-blue-lionet hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 btn">
                                <label class="items-center">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                  </svg>
                                  <span class="mt-2 text-base leading-normal"></span>
                                  <input type="file" name="files" id="files" multiple>
                              </label>
                        </button>
                        <p>
                            <audio id=recordedAudio></audio>
                        </p>
                    </div>
                </div>
            </div>


          </div>
          <div x-show="activeTab===1">
            <div class="grid grid-cols-4 gap-4 p-2">
              {{!#member_pics}}
                <div class="flex flex-col items-center pb-10" >
                  <a href="../profile/{{!username}}">
                    <img class="mb-3 w-12 h-12 mx-auto rounded-full shadow-lg" src="../uploads/{{!profilePic}}"/>
                    <p class="mb-1 text-xl font-medium text-gray-900 dark:text-white">{{!username}}</p>
                  </a>
                </div>
              {{!/member_pics}}
            </div>
          </div>
          <div x-show="activeTab===2" id="wiki_link"
             class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md"
            style="overflow: hidden;">
             <!--Wiki-->
             <!--<div id="wiki_container"></div>-->
              <!-- TODO for now always loads personalthemen as default, change to <space_name>:start later-->
              <iframe class="w-full" src="/wiki_page?page=personalthemen" title="description"
                    style="height: 1000px; width: 1000px;"></iframe>

          </div>
          <div x-show="activeTab===3">
            <label>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mb-2 inline-block" viewBox="0 -2 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
              </svg>Dokumente in diesem Space
            </label>
            <div class="w-full rounded-lg shadow">
              <ul class="divide-y-2 divide-gray-100">
                  {{!#documents}}
                    <li class="flex p-3">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-4" fill="none" viewBox="0 1 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                      </svg>
                      <a href="{{!.}}" download>{{!.}}</a>
                    </li>
                  {{!/documents}}
              </ul>
            </div>

          </div>
          <!--<div id="feedContainer"></div>-->
        </div>
      </div>
    </div>
    <div class="flex-none w-1/5 p-2 mr-2">

    </div>

  </div>
</script>

<script id="1spaceHeaderTemplate" type="text/html">
  <div class="flex w-full overflow-hidden bg-white border rounded-md border-gray-300 p-2"  x-data="setup()">
    <div id="spaceProfilePanel" style="/*height:700px;*/">
      <div class="hidden md:flex md:flex-shrink-0">
          <div class="flex flex-col w-64">
              <!-- Sidebar component, swap this element with another sidebar if you like -->
              <div class="flex flex-col flex-1 border-r border-gray-200 bg-white" >
                  <div class="flex-1 flex flex-col ">
                      <div class="flex-shrink-0 flex ">
                          <a href="../space/{{!spacename}}" class="flex-shrink-0 w-full group block">
                              <div class="flex items-center">
                                  <div>
                                      <img class="inline-block h-10 w-10 rounded-full"
                                           src="http://localhost:8903/uploads/default_group_pic.jpg"
                                           alt="SpaceFoto">
                                  </div>
                                  <div class="ml-3">
                                      <p class="text-m font-bold text-gray-700 group-hover:text-gray-900">
                                          {{!spacename}}
                                      </p>
                                  </div>
                              </div>
                          </a>
                      </div>
                      <nav class="mt-5 flex-1 px-2 bg-white space-y-1" >
                          <template x-for="(tab, index) in tabs" :key="index">
                            <div class="grid grid-rows-1 grid-flow-col" @click="triggerDisplay(index)">
                              <span x-show="index===0" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                                :class="activeTab===0 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                                >
                                <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                     xmlns="http://www.w3.org/2000/svg"
                                     fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"
                                     :class="activeTab===0 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                                </svg>
                              </span>
                              <span x-show="index===1" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                                :class="activeTab===1 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                                >
                                <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                     xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                     stroke="currentColor" aria-hidden="true"
                                     :class="activeTab===1 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                                </svg>
                              </span>
                              <span x-show="index===2" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                                :class="activeTab===2 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                                >
                                <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                     xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                     stroke="currentColor" aria-hidden="true"
                                     :class="activeTab===2 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                                </svg>
                              </span>
                              <span x-show="index===3" class="cursor-pointer py-3 px-4 rounded-l-lg transition"
                                :class="activeTab===3 ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                                >
                                <svg class="group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                     xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                     stroke="currentColor" aria-hidden="true"
                                     :class="activeTab===3 ? 'bg-blue-lionet text-white' : ' text-gray-500'">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
                                </svg>
                              </span>

                              <div class="cursor-pointer py-3 rounded-r-lg transition"
                                :class="activeTab===index ? 'bg-blue-lionet text-white' : ' text-gray-500'" @click="activeTab = index; "
                                x-text="tab"
                                >
                              </div>
                            </div>
                          </template>


                      </nav>
                  </div>
              </div>
          </div>
      </div>
    </div>
    <div class="flex flex-col w-0 flex-1 overflow-hidden" >
      <div id="content_container" class="p-2">
        <div class="" >
          <div x-show="activeTab===0"  id="newPostPanel" >

            <div class="post-description">
                <textarea class="form-textarea mt-1 p-2 block w-full border rounded-md" id="postFeed" rows="6"
                          placeholder="Poste etwas in deine Timeline?"></textarea>
                <div class="post-description" style="padding-top: 5px;">
                    <div id="postAlert"></div>
                    <div class="grid grid-cols-2 gap-4">

                    </div>
                </div>

                <div id="postdiv" class="mar-top clearfix p-2">
                    <button class="m-0 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-lionet border-blue-lionet hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 m-0 float-right" id="post"><i class="fa fa-pencil fa-fw"></i>
                        Post
                    </button>
                    <div class="rounded">
                        <button type="button"
                                class="inline-flex items-center py-2 px-4 border border-2 rounded-full shadow-sm text-white bg-blue-lionet border-blue-lionet hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 btn">
                                <label class="items-center">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                  </svg>
                                  <span class="mt-2 text-base leading-normal"></span>
                                  <input type="file" name="files" id="files" multiple>
                              </label>
                        </button>
                        <p>
                            <audio id=recordedAudio></audio>
                        </p>
                    </div>
                </div>
            </div>


          </div>
          <div x-show="activeTab===1">
            <div class="grid grid-cols-4 gap-4 p-2">
              {{!#member_pics}}
                <div class="flex flex-col items-center pb-10" >
                  <a href="../profile/{{!username}}">
                    <img class="mb-3 w-12 h-12 mx-auto rounded-full shadow-lg" src="../uploads/{{!profilePic}}"/>
                    <p class="mb-1 text-xl font-medium text-gray-900 dark:text-white">{{!username}}</p>
                  </a>
                </div>
              {{!/member_pics}}
            </div>
          </div>
          <div x-show="activeTab===2"id="wiki_link" onclick="getWikiPage(window.location.pathname.split('/')[2] + ':start')"
             class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
             <!--Wiki-->
             <!--<div id="wiki_container">p</div>-->
             <iframe class="w-full" height="600;" src="http://soserve.rz.uni-leipzig.de:8079/doku.php?id=personalthemen#personalthemen" title="description"></iframe>
          </div>
          <div x-show="activeTab===3">
            <label>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mb-2 inline-block" viewBox="0 -2 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
              </svg>Dokumente in diesem Space
            </label>
            <div class="w-full rounded-lg shadow">
              <ul class="divide-y-2 divide-gray-100">
                  {{!#documents}}
                    <li class="flex p-3">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-4" fill="none" viewBox="0 1 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                      </svg>
                      <a href="{{!.}}" download>{{!.}}</a>
                    </li>
                  {{!/documents}}
              </ul>
            </div>

          </div>
          <!--<div id="feedContainer"></div>-->
        </div>
      </div>
    </div>

</script>

<script id="2spaceHeaderTemplate" type="text/html">
<div class="flex w-full overflow-hidden bg-white p-4">
  <div id="spaceProfilePanel">
    <!-- Static sidebar for desktop -->
    <div class="hidden md:flex md:flex-shrink-0">
        <div class="flex flex-col w-64">
            <!-- Sidebar component, swap this element with another sidebar if you like -->
            <div class="flex flex-col flex-1 border-r border-gray-200 bg-white">
                <div class="flex-1 flex flex-col ">
                    <div class="flex-shrink-0 flex ">
                        <a href="../space/{{!spacename}}" class="flex-shrink-0 w-full group block">
                            <div class="flex items-center">
                                <div>
                                    <img class="inline-block h-9 w-9 rounded-full"
                                         src="https://via.placeholder.com/400x200"
                                         alt="SpaceFoto">
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm font-bold text-gray-700 group-hover:text-gray-900">
                                        {{!spacename}}
                                    </p>
                                </div>
                            </div>
                        </a>
                    </div>
                    <nav class="mt-5 flex-1 px-2 bg-white space-y-1">
                        <!-- Current: "bg-gray-100 text-gray-900", Default: "text-gray-600 hover:bg-gray-50 hover:text-gray-900" -->
                        <a href="../space/{{!spacename}}"
                           class="bg-gray-100 text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <!--
                              Heroicon name: outline/home

                              Current: "text-gray-500", Default: "text-gray-400 group-hover:text-gray-500"
                            -->
                            <svg class="text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                 xmlns="http://www.w3.org/2000/svg"
                                 fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                            </svg>
                            Dashboard
                        </a>

                        <!--<a href=""
                           class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                 stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                            </svg>
                            Team ({{!memberSize}})
                        </a>-->

                        <div x-data="{'showModal': false}" @keydown.escape="showModal:false">
                          <button  type="button" @click="showModal = true"
                             class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                              <!-- Heroicon name: outline/users -->
                              <svg class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                   xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                   stroke="currentColor" aria-hidden="true">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                              </svg>
                              Team ({{!memberSize}})
                          </button>
                          <!-- Modal -->
                          <div
                              class="fixed inset-0 z-30 flex items-center justify-center overflow-auto bg-black bg-opacity-50"
                              x-show="showModal"
                          >
                              <!-- Modal inner -->
                              <div
                                  class="max-w-3xl px-6 py-4 mx-auto text-left bg-white rounded shadow-lg"
                                  @click.away="showModal = false"
                                  x-transition:enter="motion-safe:ease-out duration-300"
                                  x-transition:enter-start="opacity-0 scale-90"
                                  x-transition:enter-end="opacity-100 scale-100"
                              >
                                  <!-- Title / Close-->
                                  <div class="flex items-center justify-between">
                                      <b class="mr-3 text-black max-w-none">Members of {{!spacename}}</b>

                                      <button type="button" class="z-50 cursor-pointer" @click="showModal = false">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                          </svg>
                                      </button>
                                  </div>

                                  <!-- content -->
                                  <ul class="p-2">
                                      {{!#members}}
                                      <li class="border list-none rounded-sm px-3 py-3">
                                        <a href="../profile/{{!.}}">{{!.}}</a>
                                      </li>
                                      {{!/members}}
                                  </ul>
                              </div>
                          </div>
                        </div>

                        <div id="wiki_link" onclick="getWikiPage(window.location.pathname.split('/')[2] + ':start')"
                           class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <!-- Heroicon name: outline/folder -->
                            <svg class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                 stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                            </svg>
                            Wiki
                        </div>


                        <a disabled href=""
                           class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <!-- Heroicon name: outline/inbox -->
                            <svg class="text-gray-400 group-hover:text-gray-500 mr-3 flex-shrink-0 h-6 w-6"
                                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                 stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
                            </svg>
                            Dokumente
                        </a>


                    </nav>
                </div>
            </div>
        </div>
    </div>
  </div>
  <div class="flex flex-col w-0 flex-1 overflow-hidden">
    <div id="content_container" class="p-2">
        <div class="panel panel-white post" id="newPostPanel">
            <div class="post-description">
            <textarea class="form-control w-full" id="postFeed" rows="2"
                      placeholder="What are you thinking?"></textarea>
                <div class="post-description" style="padding-top: 5px;">
                    <div id="postAlert"></div>
                    <div class="grid grid-cols-2 gap-4">
                        <!---                        <div class="flex-1">
                                                    <input type="text" value="" id="addTag" data-role="tagsinput" placeholder="Add Tags">
                                                </div>
                                                -->
                    </div>
                </div>

                <div id="postdiv" class="mar-top clearfix p-2">
                    <button class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-whitebg-indigo-300 hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 pull-right "
                            id="post">
                        Post
                        <svg class="ml-2 -mr-0.5 mt-1 h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                             fill="currentColor" aria-hidden="true">
                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                        </svg>

                    </button>
                    <!--<div class="element">
                      <i class="fa fa-file"></i>
                      <button class="btn btn-sm btn-success" id="record"><i class="fa fa-microphone"></i></button>
                      <input type="file" name="files" id="files" multiple>
                    </div>-->
                    <div class="rounded">

                        <button id="record"
                                class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-whitebg-indigo-300 hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
                                 viewBox="0 0 24 24"
                                 stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
                            </svg>
                        </button>
                        <button type="button"
                                class="inline-flex items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-whitebg-indigo-300 hover:bg-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            <!-- Heroicon name: solid/plus -->
                            <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                 fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd"
                                      d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"
                                      clip-rule="evenodd"/>
                                <input type='file' name="files" id="files" multiple class="hidden"/>
                            </svg>
                        </button>
                        <p>
                            <audio id=recordedAudio></audio>
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>
  </div>
</div>
</script>

<script id="profileInformation_listItem" type="text/html">
  <li class="p-4 hover:bg-gray-50 cursor-pointer">
    <input type="text" id="{{!item_type}}" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md" value="{{!value}}">
    <button type="" class="z-50 cursor-pointer m-2 inline-block" onclick="$(this).closest('li').remove()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6" />
      </svg>
    </button>

  </li>
</script>

</body>
</html>
