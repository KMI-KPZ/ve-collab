(this["webpackJsonprre-openKnowledgeworker"]=this["webpackJsonprre-openKnowledgeworker"]||[]).push([[4],{1693:function(e,t,a){"use strict";a.r(t),a.d(t,"TRACKING_XAPI_INITIALIZE_REQUEST",(function(){return da})),a.d(t,"TRACKING_XAPI_INITIALIZE",(function(){return sa})),a.d(t,"initializeApiTracking",(function(){return ua})),a.d(t,"initializeAdditionalXapiTracking",(function(){return pa})),a.d(t,"initializeXapiTracking",(function(){return la})),a.d(t,"trackingApiInitializeRequest",(function(){return ba})),a.d(t,"trackingXapiApiInitialize",(function(){return Oa}));var n=a(1097),c=a(1717),i=a(1713),r=a(1577),o=a(206),d=a(888),s=a(1707);const u=e=>"@@trackingXapi/GET_AND_SAVE_PROGRESS_REQUEST"===e.type,p=e=>({type:"@@trackingXapi/GET_AND_SAVE_PROGRESS_SUCCESS",payload:{progress:e}}),l=e=>"@@trackingXapi/SET_PROGRESS_REQUEST"===e.type,b=e=>({type:"@@trackingXapi/SET_PROGRESS_REQUEST",payload:{progress:e}}),O=e=>({type:"@@trackingXapi/SET_SUSPEND_DATA_REQUEST",payload:{setSuspendDataRequestTimestamp:e}}),j=e=>({type:"@@trackingXapi/SET_SUSPEND_DATA_SUCCESS",payload:{minifiedSuspendData:e}}),v=e=>({type:"@@trackingXapi/SEND_STATEMENT_REQUEST",payload:{statement:e}}),S=e=>({type:"@@trackingXapi/GET_SUSPEND_DATA_SUCCESS",payload:{suspendData:e}});var E=a(35),g=a(109),f=a(605),m=a(58),y=a(7),T=a(6),A=a(37),I=a(1),_=a(13),h=a(59);const C=Object(I.createSelector)([h.f],e=>e.xapi),D=Object(I.createSelector)([C],e=>{var t;return null===e||void 0===e||null===(t=e.defaultValues)||void 0===t?void 0:t.activityId}),R=Object(I.createSelector)([C],e=>{var t,a;return null===e||void 0===e||null===(t=e.trackingPlugins)||void 0===t||null===(a=t.contents)||void 0===a?void 0:a.enabledForTracking}),k=Object(I.createSelector)([C],e=>{var t,a;return null===e||void 0===e||null===(t=e.trackingPlugins)||void 0===t||null===(a=t.contents)||void 0===a?void 0:a.disabledForTracking}),w=Object(I.createSelector)([R,_.c],(e,t)=>void 0===e||e.includes(t)),x=Object(I.createSelector)([k,_.c],(e,t)=>void 0!==e&&e.includes(t)),N=Object(I.createSelector)([C],e=>void 0===e||void 0===e.trackingContent||void 0===e.trackingContent.sendSuspendData||e.trackingContent.sendSuspendData),$=Object(I.createSelector)([C],e=>void 0===e||void 0===e.trackingContent||void 0===e.trackingContent.sendSectionStatements||e.trackingContent.sendSectionStatements),P=Object(I.createSelector)([C],e=>void 0===e||void 0===e.trackingContent||void 0===e.trackingContent.sendValuationQuestionStatements||e.trackingContent.sendValuationQuestionStatements),U=Object(I.createSelector)([C],e=>void 0===e||void 0===e.trackingContent||void 0===e.trackingContent.sendEvaluationQuestionStatement||e.trackingContent.sendEvaluationQuestionStatement),X=Object(I.createSelector)([C],e=>void 0===e||void 0===e.trackingContent||void 0===e.trackingContent.sendCourseStatements||e.trackingContent.sendCourseStatements),Q=Object(I.createSelector)([C],e=>void 0===e||void 0===e.trackingContent||void 0===e.trackingContent.sendContentStatements||e.trackingContent.sendContentStatements),G=Object(I.createSelector)([C],e=>void 0===e||void 0===e.trackingContent||void 0===e.trackingContent.sendChapterStatements||e.trackingContent.sendChapterStatements),L=Object(I.createSelector)([C],e=>void 0===e||void 0===e.useActivityIdAsPrefixForObjectIds||void 0===e.useActivityIdAsPrefixForObjectIds.question||e.useActivityIdAsPrefixForObjectIds.question);function F(e,t){return w(t,{uid:e})&&!x(t,{uid:e})}function H(e,t){const a=Object(A.b)(t,{uid:e}),n=null===a||void 0===a?void 0:a.contentUid;return void 0!==n&&null!==n&&F(n,t)}const M=new c.b;var q=a(1740);const V=e=>"https://knowledgeworker.com/xapi/"+e,K=e=>{const t=Object(q.a)(e);return V(t)},z=(e,t)=>`${K(t)}/${c.y}_${e}`;var Z=a(78),J=a(484);function W(e,t){return void 0===e||void 0===t||""===t?"en-US":Object(J.a)(e)}function B(e,t,a){const n=`${e} ${t}`;if(void 0===a)return n;const c=a.replace("<p>","").replace("</p>","");return""===c?n:c}const Y=(e,t)=>`${K(t)}/${c.I}_${e}`,ee=(e,t)=>M.resolve(c.I,e,()=>{const a=Object(A.b)(t,{uid:e}),n=Object(T.a)(a),i=W(Object(Z.d)(t),n),r=B(c.J,e,n);return new c.v(Y(e,t)).addName(i,r)});var te=a(47);const ae=(e,t)=>`${K(t)}/${c.G}_${e}`,ne=(e,t)=>M.resolve(c.G,e,()=>{const a=Object(te.a)(t,{uid:e}),n=Object(T.a)(a),i=W(Object(Z.d)(t),n),r=B(c.H,e,n);return new c.t(ae(e,t)).addName(i,r)});var ce=a(5);const ie=(e,t)=>`${K(t)}/${c.z}_${e}`;var re=a(16),oe=a(31),de=a(42);const se=(e,t)=>`${K(t)}/${c.D}_${e}`,ue=(e,t)=>M.resolve(c.D,e,()=>{const a=Object(de.a)(t,{uid:e}),n=Object(T.a)(a),i=W(Object(Z.d)(t),n),r=B(c.E,e,n);return new c.m(se(e,t)).addName(i,r)});var pe=a(41),le=a(12),be=a(44);const Oe=(e,t)=>{const a=[],n=Object(re.d)(t,{uid:e}),i=Object(oe.d)(t,{uid:e}),r=Object(ce.ab)(t);return i&&a.push(((e,t)=>M.resolve(c.y+"-simple",e,()=>new c.a(z(e,t))))(i.uid,t)),!Object(le.h)(n)&&(null===n||void 0===n?void 0:n.sectionUid)&&a.push(((e,t)=>M.resolve(c.I+"-simple",e,()=>new c.a(Y(e,t))))(n.sectionUid,t)),!Object(be.a)(n)&&(null===n||void 0===n?void 0:n.contentUid)&&a.push(((e,t)=>M.resolve(c.G+"-simple",e,()=>new c.a(ae(e,t))))(n.contentUid,t)),!Object(pe.a)(n)&&(null===n||void 0===n?void 0:n.chapterUid)&&a.push(((e,t)=>M.resolve(c.D+"-simple",e,()=>new c.a(se(e,t))))(n.chapterUid,t)),r&&a.push(((e,t)=>M.resolve(c.z+"-simple",e,()=>new c.a(ie(e,t))))(r,t)),a};var je=a(136),ve=a(129),Se=a(110);const Ee={section:{uid:void 0,timestamp:void 0},content:{uid:void 0,timestamp:void 0},chapter:{uid:void 0,timestamp:void 0}};function ge(e){return{uid:e,timestamp:(new Date).getTime()}}function fe(e,t,a=!1){if(void 0===e)return;const n=function(e,t,a,n=Ee,c=!1){const i=n[e];if(!i)return;if(i.uid===t&&c&&void 0!==i.timestamp){const t=a-i.timestamp,c=i.uid;return n[e]={uid:void 0,timestamp:void 0},{duration:t,uid:c}}if(i.uid===t)return;if(void 0===i.uid||void 0===i.timestamp)return void(n[e]=ge(t));const r=i.uid,o=a-i.timestamp;return n[e]=ge(t),{duration:o,uid:r}}(e.type,e.uid,(new Date).getTime(),void 0,a);if(void 0===n)return;const i=function(e,t,a){return(new c.j).addHierarchy(Oe(e,a)).addDuration(t)}(n.uid,n.duration,t);switch(e.type){case je.a.name:i.addObject(ee(n.uid,t));break;case ve.a.name:i.addObject(ne(n.uid,t));break;case Se.a.name:i.addObject(ue(n.uid,t));break;default:return}return v(i)}const me=[(e,t)=>e.pipe(Object(n.a)(m.e),Object(r.a)(({payload:e})=>H(e.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.uid).pipe(Object(o.a)(e=>((e,t)=>(new c.g).addObject(ee(e,t)).addHierarchy(Oe(e,t)))(e,t.value)),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(m.a),Object(r.a)(({payload:e})=>H(e.uid,t.value)),Object(d.b)(()=>[fe(Object(T.e)(t.value),t.value),fe(Object(T.d)(t.value),t.value),fe(Object(T.b)(t.value),t.value)].filter(y.a)))];var ye=a(65),Te=a(229);const Ae=Object(I.createSelector)([Te.a],e=>e.map(e=>e.uid));function Ie(e,t){const a=Object(ye.c)(t,{uid:e}),n=null===a||void 0===a?void 0:a.contentUid;if(null===n||void 0===n||!F(n,t))return!1;const c=Ae(t).includes(e),i=P(t),r=U(t);return c&&i||!c&&r}var _e=a(11),he=a(18);function Ce(e){return 1===e.length}function De(e,t){const a=t[e];return a&&0!==a.length?a[0]:""}const Re=e=>e.gapSpan.filter(e=>null!==e.inlineChoiceInteraction.inlineChoice).map(t=>{const a=t.inlineChoiceInteraction.responseIdentifier,n=De(a,e.learnerResponse),c=function(e,t,a,n){const c=n.filter(e=>e.identifier===a);return Ce(c)?Object(he.h)(e,t,c[0]):[""]}(e.outputType,e.gapSpan,a,e.correctResponse),i=e.outputType===_e.c.TWO?n:function(e,t){if(!t.inlineChoiceInteraction.inlineChoice)return"";const a=t.inlineChoiceInteraction.inlineChoice.filter(t=>t.identifier===e);return Ce(a)?a[0].content:""}(n,t);return ke(a,n,i,c.includes(n),e.outputType)}),ke=(e,t,a,n,c)=>{const i={id:c===_e.c.TWO?""+e:`${e}_${t}`,description:{"de-DE":a}};return void 0!==n&&(i.result=n),i};function we(e){if(!e.inlineChoiceInteraction.inlineChoice)return;const t=e.inlineChoiceInteraction.responseIdentifier;return e.inlineChoiceInteraction.inlineChoice.reduce((e,a,n,c)=>e+`${t}_${a.identifier}`+(n<c.length-1?";":""),"")}function xe(e){return e.reduce((e,t)=>{const a=function(e){if(!e.inlineChoiceInteraction.inlineChoice)return;const t=e.inlineChoiceInteraction.responseIdentifier;return e.inlineChoiceInteraction.inlineChoice.map(e=>ke(t,e.identifier,e.content))}(t);return void 0===a?e:e.concat(a)},[])}function Ne(e){let t="";return e.map((t,a)=>t+(a<e.length-1?"[,]":"")).map(e=>t+=e),t}const $e=(e,t)=>e.map(({id:e,description:a})=>({id:e,description:{[t]:a}})),Pe=(e,t,a,n,i,r)=>M.resolve(c.F,e,()=>new c.r(((e,t,a,n)=>`${a?V(t):n||"http://kwTest@chemmedia.de"}/${c.F}_${e}`)(e,n,i,r)).addName(a,null!==t?t:"").tap(e=>t&&e.addDescription(a,t))),Ue=(e,t,a,n,i,r)=>M.resolve(`${c.k.FILL_IN}-${c.F}`,e.id,()=>{const{id:o,text:d,correctResponse:s,gapSpan:u}=e;return Pe(r||o,d,t,a,n,i).addInteractionType(c.k.FILL_IN).addCorrectResponsePatterns(function(e){if(0===e.length)return[];const t=[],a=e.filter(e=>e.correctResponse.length>0).map(e=>e.correctResponse.map(t=>`${e.identifier}_${t}`)),n=(e,a,c)=>{e[c].forEach(i=>{const r=void 0!==a?`${a}[,]${i}`:""+i;if(c+1!==e.length)return n(e,r,c+1);t.push(r)})};return n(a,void 0,0),t}(s)).addDefinitionExtension("chemmedia://expapi/gap/text",(p=u,p.reduce((e,t)=>{const a=we(t)?`{${we(t)}}`:"";return e+`${t.content}${a}`},""))).addDefinitionExtension("http://www.chemmedia.de/expapi/gaps",xe(u));var p}),Xe="http://chemmedia.de/xapi-extensions/response/answerDescription",Qe=(e,t,a)=>{const n=Object(q.a)(t),i=Ne(e.learnerResponse.sort());let r=i;return e.choices.forEach(e=>{r=r.replace(e.id,e.description)}),(new c.d).addObject(((e,t,a,n,i,r)=>M.resolve(`${c.k.CHOICE}-${c.F}`,e.id,()=>{const{id:o,text:d,choices:s,correctResponse:u}=e;return Pe(r||o,d,t,a,n,i).addInteractionType(c.k.CHOICE).addChoices($e(s,t)).tap(e=>u&&e.addCorrectResponsePattern(Ne(u)))}))(e,Object(J.a)(Object(ce.M)(t)),n,L(t),D(t),a)).addResponse(i).addHierarchy(Oe(e.uid,t)).addResultExtension(Xe,r).tap(t=>{null!==e.isAnswerCorrect&&t.addSuccess(e.isAnswerCorrect)})},Ge=(e,t,a)=>{const n=Object(q.a)(t),i=function(e){let t="";return Object.keys(e).forEach((a,n,c)=>{const i=e[a];null===i||void 0===i||i.sort().forEach((e,n,c)=>{t+=`${a}[.]${e}`,t+=n<c.length-1?"[,]":""}),t+=n<c.length-1?"[,]":""}),t}(e.learnerResponse);let r=i;return e.sources.forEach(e=>r=r.replace(new RegExp(e.id,"g"),e.description)),e.targets.forEach(e=>r=r.replace(new RegExp(e.id,"g"),e.description)),(new c.d).addObject(((e,t,a,n,i,r)=>M.resolve(`${c.k.MATCHING}-${c.F}`,e.id,()=>{const{id:o,text:d,sources:s,targets:u,correctResponse:p}=e;return Pe(r||o,d,t,a,n,i).addInteractionType(c.k.MATCHING).addCorrectResponsePattern(function(e){let t="";return e.forEach((e,a,n)=>{const c=e.correctResponse;null===c||void 0===c||c.sort().forEach((a,n,c)=>{t+=`${e.identifier}[.]${a}`,t+=n<c.length-1?"[,]":""}),t+=a<n.length-1?"[,]":""}),t}(p)).addSources($e(s,t)).addTargets($e(u,t))}))(e,Object(J.a)(Object(ce.M)(t)),n,L(t),D(t),a)).addResponse(i).addHierarchy(Oe(e.uid,t)).addResultExtension(Xe,r).tap(t=>{null!==e.isAnswerCorrect&&t.addSuccess(e.isAnswerCorrect)})},Le=(e,t,a)=>{const n=Object(q.a)(t);return(new c.d).addObject(Ue(e,Object(J.a)(Object(ce.M)(t)),n,L(t),D(t),a)).addResponse((e=>e.gapSpan.reduce((t,a)=>{const n=a.inlineChoiceInteraction.responseIdentifier,c=De(n,e.learnerResponse);let i="";return null!==a.inlineChoiceInteraction.inlineChoice&&(e.outputType===_e.c.TWO?i=`{${n}}`:c&&(i=`{${n}_${c}}`)),t+`${a.content}${i}`},""))(e)).addHierarchy(Oe(e.uid,t)).addResultExtension("chemmedia://expapi/gaps",Re(e)).tap(t=>{null!==e.isAnswerCorrect&&t.addSuccess(e.isAnswerCorrect)})},Fe=(e,t,a)=>{const n=Object(q.a)(t);return(new c.d).addObject(((e,t,a,n,i,r)=>M.resolve(`${c.k.OTHER}-${c.F}`,e.id,()=>{const{id:o,text:d}=e;return Pe(r||o,d,t,a,n,i).addInteractionType(c.k.OTHER)}))(e,Object(J.a)(Object(ce.M)(t)),n,L(t),D(t),a)).addResponse(e.learnerResponse).addHierarchy(Oe(e.uid,t)).addResultExtension(Xe,e.learnerResponse).tap(t=>{null!==e.isAnswerCorrect&&t.addSuccess(e.isAnswerCorrect)})},He=(e,t,a)=>{const n=Object(q.a)(t);return(new c.d).addObject(((e,t,a,n,i,r)=>M.resolve(`${c.k.FILL_IN}-${c.F}`,e.id,()=>{const{id:o,text:d}=e;return Pe(r||o,d,t,a,n,i).addInteractionType(c.k.FILL_IN)}))(e,Object(J.a)(Object(ce.M)(t)),n,L(t),D(t),a)).addResponse(e.learnerResponse).addHierarchy(Oe(e.uid,t)).addResultExtension(Xe,e.learnerResponse).tap(t=>{null!==e.isAnswerCorrect&&t.addSuccess(e.isAnswerCorrect)})},Me=(e,t,a)=>{const n=Object(q.a)(t);return(new c.d).addObject(((e,t,a,n,i,r)=>M.resolve(`${c.k.TRUE_FALSE}-${c.F}`,e.id,()=>{const{id:o,text:d,correctResponse:s}=e;return Pe(r||o,d,t,a,n,i).addInteractionType(c.k.TRUE_FALSE).addCorrectResponsePattern(s.toString())}))(e,Object(J.a)(Object(ce.M)(t)),n,L(t),D(t),a)).addResponse(e.learnerResponse.toString()).addHierarchy(Oe(e.uid,t)).addResultExtension(Xe,e.learnerResponse).tap(t=>{null!==e.isAnswerCorrect&&t.addSuccess(e.isAnswerCorrect)})},qe=(e,t,a)=>{var n;const i=Object(q.a)(t),r=(null===(n=e.likertChoices.find(t=>t.id===e.learnerResponse))||void 0===n?void 0:n.description)||"";return(new c.d).addObject(((e,t,a,n,i,r)=>M.resolve(`${c.k.LIKERT}-${c.F}`,e.id,()=>{const{id:o,text:d,likertChoices:s}=e;return Pe(r||o,d,t,a,n,i).addInteractionType(c.k.LIKERT).addScales($e(s,t))}))(e,Object(J.a)(Object(ce.M)(t)),i,L(t),D(t),a)).addResponse(e.learnerResponse).addHierarchy(Oe(e.uid,t)).addResultExtension(Xe,r).tap(t=>{null!==e.isAnswerCorrect&&t.addSuccess(e.isAnswerCorrect)})},Ve=[(e,t)=>e.pipe(Object(n.a)(E.l),Object(r.a)(({payload:e})=>Ie(e.choiceQuestionData.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.choiceQuestionData).pipe(Object(o.a)(e=>Qe(e,t.value)),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(E.r),Object(r.a)(({payload:e})=>Ie(e.trueFalseQuestionData.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.trueFalseQuestionData).pipe(Object(o.a)(e=>Me(e,t.value)),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(E.o),Object(r.a)(({payload:e})=>Ie(e.html5QuestionData.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.html5QuestionData).pipe(Object(o.a)(e=>Fe(e,t.value)),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(E.q),Object(r.a)(({payload:e})=>Ie(e.openQuestionData.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.openQuestionData).pipe(Object(o.a)(e=>He(e,t.value)),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(E.n),Object(r.a)(({payload:e})=>Ie(e.gapQuestionData.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.gapQuestionData).pipe(Object(o.a)(e=>Le(e,t.value)),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(E.m),Object(r.a)(({payload:e})=>Ie(e.dragAndDropQuestionData.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.dragAndDropQuestionData).pipe(Object(o.a)(e=>Ge(e,t.value)),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(E.p),Object(r.a)(({payload:e})=>Ie(e.likertQuestionData.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.likertQuestionData).pipe(Object(o.a)(e=>qe(e,t.value)),Object(o.a)(v))))];var Ke=a(547),ze=a(1715),Ze=a(1578),Je=a(1704),We=a(45),Be=a(90),Ye=a(1729),et=a(158),tt=a(33),at=a(62);function nt(e,t){return function(e){return Object(E.K)(e)||Object(E.I)(e)||Object(E.F)(e)||Object(E.J)(e)||Object(E.H)(e)||Object(E.G)(e)}(e)&&Ie(function(e){return Object(E.K)(e)?e.payload.trueFalseQuestionData.uid:Object(E.I)(e)?e.payload.html5QuestionData.uid:Object(E.F)(e)?e.payload.choiceQuestionData.uid:Object(E.J)(e)?e.payload.openQuestionData.uid:Object(E.H)(e)?e.payload.gapQuestionData.uid:e.payload.dragAndDropQuestionData.uid}(e),t)}let ct=0;function it(e){ct=e}const rt=We.h;function ot(e,t){const a=rt(t);return nt(e,t)&&((n=a)!==ct&&(it(n),!0));var n}var dt=a(8);let st=0;function ut(e){st=e}var pt=a(176);function lt(e,t){const a=Object(tt.k)(t);return Object(m.j)(e)&&((n=a)!==st&&(ut(n),!0));var n}const bt=tt.i,Ot=We.g,jt=e=>t=>{const a=rt(e),n=Ot(e),i=bt(e);return t.addObject((e=>{const t=Object(ce.ab)(e)||"";return M.resolve(c.z,t,()=>{const a=Object(T.a)(Object(ce.G)(e)),n=W(Object(Z.d)(e),a),i=B(c.A,t,a);return new c.i(ie(t,e)).addName(n,i)})})(e)).tap(e=>{null!==i&&e.addCompletion(i),null!==n&&e.addSuccess(n),null!==a&&e.addScore(a/100)})},vt=(e,t)=>(new c.q).tap(jt(e)).tap(e=>"number"===typeof t&&e.addScore(t/100)),St=e=>(new c.p).tap(jt(e));var Et=a(68),gt=a(80);const ft=(e,t)=>`${K(t)}/${c.K}_${e}`,mt=(e,t)=>{if(e&&0!==e.length)return new c.h({other:e.map(e=>((e,t)=>M.resolve(c.K+"-simple",e,()=>new c.a(ft(e,t))))(e,t))})},yt=(e,t)=>a=>a.addObject(((e,t)=>M.resolve(c.K,e,()=>{const a=Object(T.a)(Object(ce.G)(t)),n=W(Object(Z.d)(t),a),i=Object(gt.i)(t),r=null===i||void 0===i?void 0:i.find(({uid:t})=>t===e),o=B(c.L,e,null===r||void 0===r?void 0:r.title.html);return new c.w(ft(e,t)).addName(n,o)}))(e,t)).addHierarchy(Oe(e,t)),Tt=(e=[],t=[],a)=>{const n=e.filter(e=>!(null===t||void 0===t?void 0:t.includes(e))),i=t.filter(t=>!(null===e||void 0===e?void 0:e.includes(t)));return[...n.map(e=>((e,t)=>(new c.n).tap(yt(e,t)))(e,a)),...i.map(e=>((e,t)=>(new c.l).tap(yt(e,t)))(e,a)),St(a)]};var At=a(316);const It={trackCourseAttempted:(e,t)=>e.pipe(Object(n.a)(Be.b),Object(o.a)(()=>{return e=t.value,(new c.f).tap(jt(e));var e}),Object(o.a)(v)),trackCourseCompleted:(e,t)=>e.pipe(Object(r.a)(e=>Object(At.a)(t.value,e)),Object(ze.a)(1),Object(o.a)(()=>{return e=t.value,(new c.g).tap(jt(e));var e}),Object(o.a)(v)),trackCourseScoredIfCourseScoreHasChanged:(e,t)=>e.pipe(Object(r.a)(e=>ot(e,t.value)),Object(o.a)(()=>{return e=t.value,(new c.u).tap(jt(e));var e}),Object(o.a)(v)),trackingXapiGetAndSaveProgressRequest:e=>e.pipe(Object(r.a)(u),Object(d.b)(e=>Object(Ke.a)(c.x.getState("progress")).pipe(Object(o.a)(e=>void 0===e?0:JSON.parse(e)),Object(i.a)(ut),Object(o.a)(p),Object(s.a)(t=>Object(f.a)(Object(pt.b)({error:t,tryAgain:e,reference:"xapi.get.and.save.progress.error",postfix:pt.a.GET_AND_SAVE_XAPI_PROGRESS})))))),trackCourseProgressIfProgressChanged:(e,t)=>e.pipe(Object(r.a)(e=>lt(e,t.value)),Object(Ze.a)(250),Object(o.a)(()=>Object(tt.k)(t.value)),Object(d.b)(e=>[b(e),v(vt(t.value,e))])),sendCourseProgressStateOnSetProgressRequest:e=>e.pipe(Object(r.a)(l),Object(d.b)(e=>Object(Ke.a)(c.x.setState("progress",e.payload.progress)).pipe(Object(o.a)(()=>({type:"@@trackingXapi/SET_PROGRESS_SUCCESS",payload:{progress:e.payload.progress}})),Object(s.a)(t=>Object(f.a)(Object(pt.b)({error:t,tryAgain:e,reference:"xapi.save.progress.error",postfix:pt.a.SET_XAPI_PROGRESS})))))),saveCourseScoreIfLoaderIsDeactivated:(e,t)=>e.pipe(Object(r.a)(dt.J),Object(i.a)(()=>it(Object(We.h)(t.value))),Object(d.b)(()=>[])),trackRequestSource:(e,t)=>e.pipe(Object(n.a)(E.x),Object(r.a)(({payload:e})=>e.source===Ye.a.QR&&e.type===et.a.name),Object(o.a)(()=>{return e=t.value,(new c.s).tap(jt(e));var e}),Object(o.a)(v)),trackTargetGroupChanged:(e,t)=>e.pipe(Object(n.a)(at.c),Object(o.a)(()=>Object(Et.a)(t.value)),Object(Je.a)(a=>e.pipe(Object(r.a)(at.h),Object(ze.a)(1),Object(o.a)(()=>Object(Et.a)(t.value)),Object(i.a)(e=>c.x.setContextActivitiesTemplate(mt(e,t.value))),Object(o.a)(e=>({type:"@@trackingXapi/SEND_STATEMENTS_REQUEST",payload:{statements:Tt(a,e,t.value)}})))))},_t=Object.values(It);var ht=a(73);const Ct=(e,t)=>a=>a.addObject(ne(e,t)).addHierarchy(Oe(e,t)),Dt=[(e,t)=>e.pipe(Object(n.a)(ht.a),Object(r.a)(({payload:e})=>F(e.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.uid).pipe(Object(o.a)(()=>{return a=e.uid,n=t.value,(new c.f).tap(Ct(a,n));var a,n}),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(ht.f),Object(r.a)(({payload:e})=>F(e.uid,t.value)),Object(d.b)(({payload:e})=>Object(f.a)(e.uid).pipe(Object(o.a)(()=>{return a=e.uid,n=t.value,(new c.g).tap(Ct(a,n));var a,n}),Object(o.a)(v)))),(e,t)=>e.pipe(Object(n.a)(E.x),Object(r.a)(({payload:e})=>e.source===Ye.a.QR&&e.type===ve.a.name),Object(o.a)(({payload:e})=>e.uid),Object(r.a)(y.a),Object(o.a)(e=>((e,t)=>(new c.s).tap(Ct(e,t)))(e,t.value)),Object(o.a)(v))];var Rt=a(105);const kt=(e,t)=>a=>a.addObject(ue(e,t)).addHierarchy(Oe(e,t)),wt={};function xt(e,t){return wt[e]!==t&&(function(e,t){wt[e]=t}(e,t),!0)}const Nt=[(e,t)=>e.pipe(Object(r.a)(Rt.o),Object(Ze.a)(250),Object(o.a)(({payload:e})=>{return a=e.uid,n=t.value,(new c.f).tap(kt(a,n));var a,n}),Object(o.a)(v)),(e,t)=>e.pipe(Object(r.a)(e=>function(e,t){if(!Object(Rt.q)(e))return!1;const a=Object(tt.o)(t,{uid:e.payload.uid});return xt(e.payload.uid,a)}(e,t.value)),Object(Ze.a)(250),Object(o.a)(e=>((e,t)=>{const a=Object(tt.o)(t,{uid:e});return(new c.q).tap(kt(e,t)).addScore(a/100)})(e.payload.uid,t.value)),Object(o.a)(v)),(e,t)=>e.pipe(Object(r.a)(Rt.p),Object(Ze.a)(250),Object(o.a)(({payload:e})=>{return a=e.uid,n=t.value,(new c.g).tap(kt(a,n));var a,n}),Object(o.a)(v))],$t=[e=>e.pipe(Object(n.a)("@@trackingXapi/SEND_STATEMENT_REQUEST"),Object(d.b)(e=>Object(Ke.a)(c.x.sendStatement(e.payload.statement)).pipe(Object(o.a)(()=>({type:"@@trackingXapi/SEND_STATEMENT_SUCCESS",payload:{statement:e.payload.statement}})),Object(s.a)(t=>Object(pt.c)({error:t,tryAgain:e,reference:"xapi.send.statement.error",referenceId:Date.now(),postfix:pt.a.SEND_XAPI_STATEMENT}))))),e=>e.pipe(Object(n.a)("@@trackingXapi/SEND_STATEMENTS_REQUEST"),Object(d.b)(e=>Object(Ke.a)(c.x.sendStatements(e.payload.statements)).pipe(Object(o.a)(t=>{const a=t.find(e=>"rejected"===e.status);return a?Object(pt.b)({error:a.reason,tryAgain:e,reference:"xapi.send.statements.error",referenceId:Date.now(),postfix:pt.a.SEND_XAPI_STATEMENT}):{type:"@@trackingXapi/SEND_STATEMENTS_SUCCESS",payload:{statements:t.map(({statement:e})=>e)}}}))))];var Pt=a(645),Ut=a(642),Xt=a(24),Qt=a(945),Gt=a(599),Lt=a(836);function Ft(e){return(e=>"@@trackingXapi/SET_SUSPEND_DATA_REQUEST"===e.type)(e)&&Object(Lt.a)(e.payload.setSuspendDataRequestTimestamp)}let Ht;const Mt=e=>{Ht=e},qt=[(e,t)=>e.pipe(Object(r.a)(Ft),Object(o.a)(e=>({action:e,minifiedSuspendData:Object(Ut.a)(t.value)})),Object(d.b)(({action:e,minifiedSuspendData:t})=>Object(Ke.a)(c.x.setState("suspendData",t)).pipe(Object(d.a)(()=>(Mt(t.a),[j(t),Object(E.hb)()])),Object(s.a)(t=>Object(f.a)(Object(E.hb)(),Object(pt.b)({error:t,tryAgain:e,reference:"xapi.set.suspend.data.error",postfix:pt.a.SET_XAPI_SUSPEND})))))),(e,t)=>e.pipe(Object(r.a)(e=>Object(E.B)(e)||Object(E.A)(e)),Object(o.a)(e=>({action:e,minifiedSuspendData:Object(Ut.a)(t.value)})),Object(d.b)(({action:e,minifiedSuspendData:t})=>Object(Ke.a)(c.x.setState("suspendData",t)).pipe(Object(o.a)(E.N),Object(s.a)(()=>Object(f.a)(Object(E.N)()))))),(e,t)=>e.pipe(Object(n.a)("@@trackingXapi/GET_AND_SAVE_SUSPEND_DATA_WITH_API_INITIALIZE"),Object(d.b)(e=>Object(Ke.a)(c.x.getState("suspendData")).pipe(Object(d.a)(e=>{if(void 0!==e)try{const a=Object(Pt.b)(e,t.value);return Mt(a.timestamp),[S(a),Object(E.eb)(a),Object(E.S)("xapi")]}catch(a){return Object(Gt.b)(),[Object(E.kb)(a.name,a.message,e),O(Object(Gt.a)()),Object(E.S)("xapi")]}return[S(),Object(E.S)("xapi")]}),Object(s.a)(t=>Object(pt.c)({error:t,tryAgain:e,reference:"xapi.get.and.save.suspend.data.error",postfix:pt.a.GET_AND_SAVE_XAPI_SUSPEND}))))),(e,t)=>e.pipe(Object(n.a)("@@trackingXapi/GET_AND_SAVE_SUSPEND_DATA"),Object(d.b)(e=>Object(Ke.a)(c.x.getState("suspendData")).pipe(Object(d.a)(a=>{if(void 0!==a)try{const e=Object(Pt.b)(a,t.value);return Mt(e.timestamp),[S(e),Object(E.eb)(e),Object(E.hb)()]}catch(n){return[Object(E.kb)(n.name,n.message,a),O(e.payload.setSuspendDataRequestTimestamp)]}return[S()]}),Object(s.a)(t=>Object(pt.c)({error:t,tryAgain:e,reference:"xapi.get.and.save.suspend.data.error",postfix:pt.a.GET_AND_SAVE_XAPI_SUSPEND}))))),e=>e.pipe(Object(r.a)(Qt.a),Object(d.b)(e=>Object(Ke.a)(c.x.getState("suspendData")).pipe(Object(d.a)(t=>{const a=[O(e.payload.setSuspendDataRequestTimestamp)],n={type:"@@trackingXapi/SET_SUSPEND_DATA_OMIT"},c={type:"@@trackingXapi/GET_AND_SAVE_SUSPEND_DATA",payload:{setSuspendDataRequestTimestamp:e.payload.setSuspendDataRequestTimestamp}};return[Object(E.R)(a,n,c,t,Ht,e.payload.setSuspendDataRequestTimestamp)]}),Object(s.a)(t=>Object(f.a)(Object(E.hb)(),Object(pt.b)({error:t,tryAgain:e,reference:"xapi.get.suspend.data.error",postfix:pt.a.GET_XAPI_SUSPEND})))))),e=>e.pipe(Object(n.a)(Xt.g),Object(o.a)(E.ib)),Pt.d,Pt.c,Pt.e];function Vt(e,t,a,n,c,i,r){return function(e,t,a,n,c,i,r){let o=[];return t&&(o=o.concat(me)),(a||n)&&(o=o.concat(Ve)),c&&(o=o.concat(_t)),i&&(o=o.concat(Dt)),r&&(o=o.concat(Nt)),o.length>0&&(o=o.concat($t)),e&&(o=o.concat(qt)),o}(e,t,a,n,c,i,r)}var Kt=a(289),zt=a(4);const Zt=Object(I.createSelector)([zt.j],e=>{var t;return null!==(t=e.registrationUUID)&&void 0!==t?t:void 0});var Jt=a(1072);const Wt=Object(I.createSelector)([C],e=>!0===(null===e||void 0===e?void 0:e.enabled)&&!0===(null===e||void 0===e?void 0:e.anonymousRegistration)),Bt=Object(I.createSelector)([Jt.a,Wt],(e,t)=>(e.includes("scorm")||e.includes("localStorage"))&&t),{version:Yt}=a(942);var ea=a(1022);const ta=Object(I.createSelector)([h.f],e=>e.localStorage),aa=Object(I.createSelector)([ta],e=>!0===(null===e||void 0===e?void 0:e.enabled)&&!0===(null===e||void 0===e?void 0:e.isInitialized));var na=a(177);const ca=Object(I.createSelector)([na.a],e=>!0===(null===e||void 0===e?void 0:e.enabled)&&!0===(null===e||void 0===e?void 0:e.isInitialized)),ia=Object(I.createSelector)([aa,ca],(e,t)=>e||t),ra=Object(I.createSelector)([C],e=>!0===(null===e||void 0===e?void 0:e.isInitialized)),oa=(e,t)=>(e=>e.type===E.g)(e)&&ia(t)&&!ra(t),da="@@trackingXapi/INITIALIZE_REQUEST",sa="@@trackingXapi/INITIALIZE",ua=(e,t,{addEpicsToMiddleware:a})=>e.pipe(Object(n.a)(da),Object(i.a)(()=>a([la,pa])),Object(r.a)(()=>!Bt(t.value)||ia(t.value)),Object(o.a)(Oa)),pa=(e,t,{addEpicsToMiddleware:a})=>e.pipe(Object(r.a)(e=>oa(e,t.value)),Object(o.a)(Oa)),la=(e,t,{addEpicsToMiddleware:a})=>e.pipe(Object(n.a)(sa),Object(o.a)(e=>{var a;const n=(e=>{const t={useUrlParams:!1,rootActivityId:ie(Object(ce.ab)(e)||"",e),revision:Yt,...C(e)};if(Bt(e)){const a=Zt(e),n=void 0!==a?a:Object(c.C)(),i=Object(c.B)(),r={agent:{account:new c.c({homePage:i,name:"anonymous-registration-"+n})},activityId:i,registration:n};t.anonymousRegistration=!1,t.defaultValues=r}return t})(t.value);return c.x.initialize(n),Bt(t.value)&&void 0===Zt(t.value)?null===(a=n.defaultValues)||void 0===a?void 0:a.registration:void 0}),Object(i.a)(()=>a(Vt(N(t.value),$(t.value),P(t.value),U(t.value),X(t.value),Q(t.value),G(t.value)))),Object(i.a)(()=>{Object(g.e)(()=>{const e=Object(T.b)(t.value),a=Object(T.d)(t.value),n=Object(T.e)(t.value),i=(e=>{const t=Object(h.h)(e);if(X(e)&&void 0!==t)return(new c.j).tap(jt(e)).addDuration(Date.now()-t)})(t.value),r=[fe(n,t.value,!0),fe(a,t.value,!0),fe(e,t.value,!0)].filter(y.a).map(e=>e.payload.statement).concat(void 0===i?[]:i);c.x.sendStatements(r),c.x.setState("suspendData",Object(Ut.a)(t.value))})}),Object(d.a)(e=>{const a=void 0!==e?[Object(ea.b)(e)]:[];return N(t.value)?[Object(E.hb)(),{type:"@@trackingXapi/INITIALIZE_SUCCESS"},{type:"@@trackingXapi/GET_AND_SAVE_PROGRESS_REQUEST"},{type:"@@trackingXapi/GET_AND_SAVE_SUSPEND_DATA_WITH_API_INITIALIZE"},...a]:[{type:"@@trackingXapi/INITIALIZE_SUCCESS"},Object(E.S)("xapi"),...a]}),Object(s.a)(e=>(a([]),e instanceof c.o?Object(f.a)({type:"@@trackingXapi/INITIALIZE_SUCCESS"},Object(E.S)("xapi")):Object(f.a)(Object(Kt.b)("xapi.configuration.error",{titleKey:"modal.communication-error",messageKey:"tracking.xapi.error.configuration"}))))),ba=()=>({type:da}),Oa=()=>({type:sa})},1729:function(e,t,a){"use strict";let n,c;a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c})),function(e){e[e.ERROR=0]="ERROR",e[e.NOT_AVAILABLE=1]="NOT_AVAILABLE",e[e.LOADED=2]="LOADED"}(n||(n={})),function(e){e.QR="qr"}(c||(c={}))},1740:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1),c=a(4);const i=Object(n.createSelector)([c.b],e=>null===e||void 0===e?void 0:e.systemInformation),r=Object(n.createSelector)([i],e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.kwSystemNameEncoded)&&void 0!==t?t:""})}}]);
//# sourceMappingURL=https://sourcemaps.intern.chemmedia.de/rre-view-openKnowledgeworker/23.7.5296/4.d4d1d46b.chunk.js.map