(this["webpackJsonprre-openKnowledgeworker"]=this["webpackJsonprre-openKnowledgeworker"]||[]).push([[12],{1854:function(e,t,i){e.exports={entry:"QmME4ChHwbTW97yoIkGSQ",visual:"_2MbdvbXqYo60vnabQ9VxTU",labels:"_1L9ql3zfVoDyf5ON99rgFj",download:"_2o18_p_n3yCqN8q3z7RgVC",info:"_3aMdbzlIl4UMlCYikZ_dj0",linkContainer:"_2Zzzq7OGy_1v5-UtzdnJS-",section:"uha_06zL2mbDcJMow0_lJ",loader:"Tx8d-SPhGzo0brqHdV4b0"}},1855:function(e,t,i){e.exports={wrapper:"_2vU3QRD5eQdoo83HajxQah",content:"rpBsdl6XKeF64Hu125f_N",loader:"XkiKsq-IYFqi67DD9hX2v"}},2060:function(e,t,i){"use strict";i.r(t),i.d(t,"MediaOverview",(function(){return q}));var a=i(0),n=i(3),s=i(2),r=i(165),o=i(8),l=i(26),c=i(5),d=i(23),m=i(231),p=i(91),h=i(326),g=i(490),u=i(440),v=i(1062),b=i(118),E=i(15),w=i(93),O=i(195),f=i(25),j=i(438),k=i(1073),y=i(264),T=i(493),I=i(1066),M=i(218),L=i(50),N=i(72);const P=[f.c.document];var C=i(1854),U=i.n(C);class A extends a.PureComponent{constructor(e){super(e),this.state={isEnlarged:!1},this.onPreviewClick=this.onPreviewClick.bind(this),this.onKeyDownImage=this.onKeyDownImage.bind(this),this.onKeyDownUsage=this.onKeyDownUsage.bind(this)}get medium(){const{height:e,width:t}=this.props.mediaObject,i=e&&e>150?150/e:1,n={...this.props.mediaObject,height:e?e*i:e,width:t?t*i:t};return a.createElement(j.a,{mediaobject:n,isViewMode:!0,documentOptions:{displayVariant:O.a.THUMBNAIL}})}get fileType(){const{fileExtension:e,mediaType:t}=this.props.mediaObject;if(!e)return;if(null===t||!Object.values(f.c).includes(t))return e;const i=this.props.intl.formatMessage({id:"media.type."+t});return t===f.c.videostream||t===f.c.package?i:`${i} ${e}`}get download(){const{mediaType:e,src:t,urlOriginal:i}=this.props.mediaObject;if(e&&P.includes(e))return a.createElement("a",{href:t,target:"_blank",download:i,className:U.a.download,tabIndex:0})}get labels(){const e=this.fileType;if(e)return a.createElement("div",{className:U.a.labels},this.download,a.createElement(M.a,{discreet:!0,"data-test-id":"fileType"},e))}get title(){const{title:e}=this.props;if(e)return a.createElement("div",{className:U.a.section},a.createElement("label",null,a.createElement(n.FormattedMessage,{id:"menu.media-overview.title"})),a.createElement(E.c,{html:e}))}get usage(){const{usage:e}=this.props;if(e)return a.createElement("div",{className:U.a.section,"data-multiple-usage":e.length>1},a.createElement("label",null,a.createElement(n.FormattedMessage,{id:"menu.media-overview.usage"})),e.slice(0,3).map(({title:e,scrollTarget:t,isScrollTargetLocked:i,lockMessage:n},s)=>a.createElement(L.a,{content:n?this.props.intl.formatMessage({id:n}):void 0,key:s},a.createElement("div",{tabIndex:0,onKeyDown:e=>i?void 0:this.onKeyDownUsage(e,t),"data-scroll-target-is-lcoked":i,className:U.a.linkContainer},a.createElement("a",{onClick:()=>i?void 0:this.props.navigationScrollTo(t)},a.createElement(E.c,{html:e}))))),e.length>3&&a.createElement(n.FormattedMessage,{id:"menu.media-overview.usage.more",values:{count:e.length-3}}))}getLicenceInfo(e){const{licence:t}=this.props.mediaObject;if(t&&t[e])return a.createElement("div",{className:U.a.section},a.createElement("label",null,a.createElement(n.FormattedMessage,{id:"menu.media-overview."+e})),a.createElement(E.c,{html:t[e]}))}getLinkOrText(e){if(e&&""!==e)return/^https?:\/\/.*$/.test(e.toString())?`<a href="${e}">${e}</a>`:`<p>${e}</p>`}get licenceLink(){const{licence:e}=this.props.mediaObject;if(e&&e.link)return a.createElement("div",{className:U.a.section},a.createElement("label",null,a.createElement(n.FormattedMessage,{id:"menu.media-overview.link"})),a.createElement(E.c,{html:""+this.getLinkOrText(e.link)}))}onPreviewClick(){this.setState({isEnlarged:!this.state.isEnlarged})}onKeyDownImage(e){this.props.mediaObject.mediaType===f.c.img&&"Enter"===e.key&&this.onPreviewClick()}onKeyDownUsage(e,t){this.props.mediaObject.mediaType===f.c.img&&"Enter"===e.key&&this.props.navigationScrollTo(t)}get preview(){if(!this.state.isEnlarged)return;const e=document.getElementById(N.a.OVERLAY_CONTAINER);return e?w.createPortal(a.createElement(I.b,{hideEnlargedImage:this.onPreviewClick,currentIndex:0,numberOfChildren:1,intl:this.props.intl,hasPagination:this.props.hasPagination,isEditorActive:!1},a.createElement(T.b,{uid:"autogenerated",mediaobject:this.props.mediaObject,title:void 0,mediumHasError:!1,includeSpaceToTop:!1})),e):void 0}render(){const e=this.props.isGoogleTagManagerIdAvailable?{id:this.props.mediaObject.ref,"data-type":"mediaOverviewEntry","data-subtype":this.props.usageUid&&this.props.usageUid.toLocaleString()}:void 0;return a.createElement("div",Object.assign({},e,{className:U.a.entry}),a.createElement("div",{tabIndex:0,className:U.a.visual,"data-media-type":this.props.mediaObject.mediaType,onClick:this.props.mediaObject.mediaType===f.c.img?this.onPreviewClick:void 0,onKeyDown:this.onKeyDownImage},this.medium,this.preview),this.labels,a.createElement("div",{className:U.a.info},this.title,this.usage,this.getLicenceInfo("author"),this.getLicenceInfo("licence"),this.getLicenceInfo("licensor"),this.getLicenceInfo("licensee"),this.licenceLink))}}const D=Object(n.injectIntl)(Object(s.b)(e=>({hasPagination:Object(k.a)(),isGoogleTagManagerIdAvailable:Object(y.a)(e)}))(A));var _=i(892),x=i(1855),K=i.n(x);class S extends a.PureComponent{componentDidMount(){this.props.collapseAllMenuItems(),this.props.navigationUpdateUrl(),this.props.selectPlugin(),this.props.viewMarkAllInactive(),this.props.loadRequest()}get loader(){if(!this.props.areEntriesLoaded)return a.createElement(b.a,{size:b.b.DEFAULT})}get content(){if(this.props.areEntriesLoaded)return this.props.areEntriesAvailable?a.createElement(_.a,null,this.entries):a.createElement("div",{className:K.a.wrapper},a.createElement("div",{className:K.a.content},a.createElement(E.c,{html:`<p>${this.props.intl.formatMessage({id:"menu.media-overview.no-entries"})}</p>`})))}get entries(){if(this.props.entries)return this.props.entries.map((e,t)=>a.createElement(D,Object.assign({key:t},e,{navigationScrollTo:this.props.navigationScrollTo})))}render(){const e=this.props.isGoogleTagManagerIdAvailable?{id:"mediaOverview"}:void 0;return a.createElement("div",e,a.createElement(m.a,{hasActiveBackground:!1,inheritSettingsFromParent:!1,shouldTint:!1,title:this.props.intl.formatMessage({id:"menu.media-overview"}),subTitle:this.props.courseTitle,variant:p.a.PRIMARY,uid:l.b.MediaOverview}),a.createElement(g.a,null),this.loader,this.content,a.createElement(h.a,{uid:this.props.rootPluginUid}))}}const q=Object(s.b)((function(e){return{isGoogleTagManagerIdAvailable:Object(y.a)(e),courseTitle:Object(c.X)(e)||"",rootPluginUid:Object(c.ab)(e)||"",entries:Object(v.c)(e),areEntriesLoaded:Object(v.b)(e),areEntriesAvailable:Object(v.a)(e)}}),e=>({collapseAllMenuItems:()=>e(Object(o.N)()),navigationUpdateUrl:()=>e(Object(o.sb)()),selectPlugin:()=>e(Object(r.f)()),viewMarkAllInactive:()=>e(Object(d.n)()),loadRequest:()=>e(Object(u.c)()),navigationScrollTo:t=>e(Object(o.ab)(t,!1))}))(Object(n.injectIntl)(S));t.default=q}}]);
//# sourceMappingURL=https://sourcemaps.intern.chemmedia.de/rre-view-openKnowledgeworker/23.7.5296/mediaOverview.b787381f.chunk.js.map