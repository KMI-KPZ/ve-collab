(this["webpackJsonprre-openKnowledgeworker"]=this["webpackJsonprre-openKnowledgeworker"]||[]).push([[17],{1999:function(t,e,o){"use strict";o.d(e,"b",(function(){return h}));var i=o(22),n=o(0),a=".".concat("kvfysmfp","{overflow:hidden;touch-action:none}.").concat("ufhsfnkm","{transform-origin: 0 0}"),r="undefined"===typeof window,s=function(){return!r&&("ontouchstart"in window||navigator.maxTouchPoints>0)},h=function(t){var e=t.x,o=t.y,i=t.scale;return"scale3d(".concat(i,",").concat(i,", 1) translate3d(").concat(e,"px, ").concat(o,"px, 0)")},c=function(t,e){return e?"".concat(t," ").concat(e):t},_=Math.abs,f=Math.max,u=Math.min,l=Math.sqrt,p="undefined"===typeof window,d=!p&&/(Mac)/i.test(navigator.platform),m=function(t){return"drag"===t},y=function(t){return"zoom"===t},v=function(t){return d&&t.ctrlKey},g=function(t){t.stopPropagation(),t.preventDefault()},O=function(t,e){var o=t.x-e.x,i=t.y-e.y;return l(o*o+i*i)},x=function(t,e){var o=O(t[0],t[1]);return O(e[0],e[1])/o},z=function(t){return-Math.cos(t*Math.PI)/2+.5},F=function(t){return{x:t.pageX,y:t.pageY}},b=function(t){return Array.from(t).map(F)},T=function(t,e){return t+e},Z=function(t,e,o){return o<t?t:o>e?e:o},w=function(t){return!(t.ctrlKey||t.metaKey)},D=function(){},E={x:0,y:0},I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prevDragMovePoint=null,e._containerObserver=null,e._fingers=0,e._firstMove=!0,e._initialOffset=Object(i.a)({},E),e._interaction=null,e._isDoubleTap=!1,e._isOffsetsSet=!1,e._lastDragPosition=null,e._lastScale=1,e._lastTouchStart=0,e._lastZoomCenter=null,e._listenMouseMove=!1,e._nthZoom=0,e._offset=Object(i.a)({},E),e._startOffset=Object(i.a)({},E),e._startTouches=null,e._updatePlaned=!1,e._wheelTimeOut=null,e._zoomFactor=1,e._initialZoomFactor=1,e._ignoreNextClick=!1,e._containerRef=n.createRef(),e._handleClick=function(t){e._ignoreNextClick&&(e._ignoreNextClick=!1,t.stopPropagation())},e._onResize=function(){var t;(null===(t=e._containerRef)||void 0===t?void 0:t.current)&&(e._updateInitialZoomFactor(),e._setupOffsets(),e._update())},e._handlerOnTouchEnd=e._handlerIfEnable((function(t){e._fingers=t.touches.length,e.props.shouldCancelHandledTouchEndEvents&&(y(e._interaction)||m(e._interaction)&&(e._startOffset.x!==e._offset.x||e._startOffset.y!==e._offset.y))&&g(t),e._updateInteraction(t)})),e._handlerOnTouchStart=e._handlerIfEnable((function(t){e._firstMove=!0,e._fingers=t.touches.length,e._detectDoubleTap(t)})),e._handlerOnTouchMove=e._handlerIfEnable((function(t){e._isDoubleTap||(e._collectInertia(t),e._firstMove?(e._updateInteraction(t),e._interaction&&g(t),e._startOffset=Object(i.a)({},e._offset),e._startTouches=b(t.touches)):(y(e._interaction)?e._startTouches&&2===e._startTouches.length&&2===t.touches.length&&e._handleZoom(t,x(e._startTouches,b(t.touches))):m(e._interaction)&&e._handleDrag(t),e._interaction&&(g(t),e._update())),e._firstMove=!1)})),e._handlerWheel=function(t){if(!e.props.shouldInterceptWheel(t)){g(t);var o=t.pageX,i=t.pageY,n=t.deltaY,a=t.deltaMode,r=1;(v(t)||1===a)&&(r=15);var s={touches:[{pageX:o,pageY:i}]},h=e._getOffsetByFirstTouch(s),c=n*r;e._stopAnimation(),e._scaleTo(e._zoomFactor-c/e.props.wheelScaleFactor,h),e._update(),clearTimeout(e._wheelTimeOut),e._wheelTimeOut=setTimeout((function(){return e._sanitize()}),100)}},e._handlers=e.props.isTouch()?[["touchstart",e._handlerOnTouchStart],["touchend",e._handlerOnTouchEnd],["touchmove",e._handlerOnTouchMove]]:[["mousemove",e.simulate(e._handlerOnTouchMove),e.props._document],["mouseup",e.simulate(e._handlerOnTouchEnd),e.props._document],["mousedown",e.simulate(e._handlerOnTouchStart)],["click",e._handleClick],["wheel",e._handlerWheel]],e}return Object(i.b)(e,t),e.prototype._handleDragStart=function(t){this._ignoreNextClick=!0,this.props.onDragStart(),this._stopAnimation(),this._resetInertia(),this._lastDragPosition=null,this._hasInteraction=!0,this._handleDrag(t)},e.prototype._handleDrag=function(t){var e=this._getOffsetByFirstTouch(t);this._drag(e,this._lastDragPosition),this._offset=this._sanitizeOffset(this._offset),this._lastDragPosition=e},e.prototype._resetInertia=function(){this._velocity=null,this._prevDragMovePoint=null},e.prototype._realizeInertia=function(){var t=this,e=this.props,o=e.inertiaFriction;if(e.inertia&&this._velocity){var n=this._velocity,a=n.x,r=n.y;if(a||r){this._stopAnimation(),this._resetInertia();this._animate((function(){if(r*=o,!(a*=o)&&!r)return t._stopAnimation();var e,n,s=Object(i.a)({},t._offset);if(t._addOffset({x:a,y:r}),t._offset=t._sanitizeOffset(t._offset),e=s,n=t._offset,e.x===n.x&&e.y===n.y)return t._stopAnimation();t._update({isAnimation:!0})}),{duration:9999})}}},e.prototype._collectInertia=function(t){var e=t.touches;if(this.props.inertia){var o,i,n=b(e)[0],a=this._prevDragMovePoint;a&&(this._velocity=(o=n,{x:(i=a).x-o.x,y:i.y-o.y})),this._prevDragMovePoint=n}},e.prototype._handleDragEnd=function(){this.props.onDragEnd(),this._end(),this._realizeInertia()},e.prototype._handleZoomStart=function(){this.props.onZoomStart(),this._stopAnimation(),this._lastScale=1,this._nthZoom=0,this._lastZoomCenter=null,this._hasInteraction=!0},e.prototype._handleZoom=function(t,e){var o,i={x:(o=this._getOffsetTouches(t)).map((function(t){return t.x})).reduce(T,0)/o.length,y:o.map((function(t){return t.y})).reduce(T,0)/o.length},n=e/this._lastScale;this._lastScale=e,this._nthZoom+=1,this._nthZoom>3&&(this._scale(n,i),this._drag(i,this._lastZoomCenter)),this._lastZoomCenter=i},e.prototype._handleZoomEnd=function(){this.props.onZoomEnd(),this._end()},e.prototype._handleDoubleTap=function(t){var e=this;if(!this._hasInteraction&&0!==this.props.tapZoomFactor){this.props.onDoubleTap(),this._ignoreNextClick=!0;var o=this._zoomFactor+this.props.tapZoomFactor,i=this._zoomFactor,n=this._getOffsetByFirstTouch(t);this._isDoubleTap=!0,i>o&&(n=this._getCurrentZoomCenter()),this._animate((function(t){e._scaleTo(i+t*(o-i),n)}))}},e.prototype._computeInitialOffset=function(){var t=this._getContainerRect(),e=this._getChildSize(),o=e.width,i=e.height,n=-_(o*this._getInitialZoomFactor()-t.width)/2,a=-_(i*this._getInitialZoomFactor()-t.height)/2;this._initialOffset={x:n,y:a}},e.prototype._resetOffset=function(){this._offset=Object(i.a)({},this._initialOffset)},e.prototype._setupOffsets=function(){this.props.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this._computeInitialOffset(),this._resetOffset())},e.prototype._sanitizeOffset=function(t){var e=this._getContainerRect(),o=this._getChildSize(),i=o.width,n=o.height,a=i*this._getInitialZoomFactor()*this._zoomFactor,r=n*this._getInitialZoomFactor()*this._zoomFactor,s=a-e.width+this.props.horizontalPadding,h=r-e.height+this.props.verticalPadding,c=f(s,0),_=f(h,0),l=u(s,0)-this.props.horizontalPadding,p=u(h,0)-this.props.verticalPadding;return{x:Z(l,c,t.x),y:Z(p,_,t.y)}},e.prototype.alignCenter=function(t){var e=this,o=Object(i.a)({duration:250,animated:!0},t),n=o.x,a=o.y,r=o.scale,s=o.animated,h=o.duration,c=this._zoomFactor,_=Object(i.a)({},this._offset),f=this._getContainerRect(),u={x:f.width/2,y:f.height/2};if(this._zoomFactor=1,this._offset={x:-(u.x-n),y:-(u.y-a)},this._scaleTo(r,u),this._stopAnimation(),!s)return this._update();var l=this._zoomFactor-c,p=this._offset.x-_.x,d=this._offset.y-_.y;this._zoomFactor=c,this._offset=Object(i.a)({},_);this._animate((function(t){var o=_.x+p*t,i=_.y+d*t;e._zoomFactor=c+l*t,e._offset=e._sanitizeOffset({x:o,y:i}),e._update()}),{callback:function(){return e._sanitize()},duration:h})},e.prototype.scaleTo=function(t){var e=this,o=Object(i.a)({duration:250,animated:!0},t),n=o.x,a=o.y,r=o.scale,s=o.animated,h=o.duration,c=this._zoomFactor,_=Object(i.a)({},this._offset);if(this._zoomFactor=1,this._offset={x:0,y:0},this._scaleTo(r,{x:n,y:a}),this._stopAnimation(),!s)return this._update();var f=this._zoomFactor-c,u=this._offset.x-_.x,l=this._offset.y-_.y;this._zoomFactor=c,this._offset=Object(i.a)({},_);this._animate((function(t){var o=_.x+u*t,i=_.y+l*t;e._zoomFactor=c+f*t,e._offset={x:o,y:i},e._update()}),{callback:function(){return e._sanitize()},duration:h})},e.prototype._scaleTo=function(t,e){this._scale(t/this._zoomFactor,e)},e.prototype._scale=function(t,e){t=this._scaleZoomFactor(t),this._addOffset({x:(t-1)*(e.x+this._offset.x),y:(t-1)*(e.y+this._offset.y)}),this.props.onZoomUpdate()},e.prototype._scaleZoomFactor=function(t){var e=this._zoomFactor;return this._zoomFactor*=t,this._zoomFactor=Z(this.props.minZoom,this.props.maxZoom,this._zoomFactor),this._zoomFactor/e},e.prototype._canDrag=function(){return this.props.draggableUnZoomed||!((t=this._zoomFactor)>(e=1)-.01&&t<e+.01);var t,e},e.prototype._drag=function(t,e){if(e){var o=-(t.y-e.y),i=-(t.x-e.x);this.props.lockDragAxis?_(i)>_(o)?this._addOffset({x:i,y:0}):this._addOffset({y:o,x:0}):this._addOffset({x:i,y:o}),this.props.onDragUpdate()}},e.prototype._addOffset=function(t){var e=this._offset,o=e.x,i=e.y;this._offset={x:o+t.x,y:i+t.y}},e.prototype._sanitize=function(){this._zoomFactor<this.props.zoomOutFactor?this._zoomOutAnimation():this._isInsaneOffset()&&this._sanitizeOffsetAnimation()},e.prototype._isInsaneOffset=function(){var t=this._offset,e=this._sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},e.prototype._sanitizeOffsetAnimation=function(){var t=this,e=this._sanitizeOffset(this._offset),o=Object(i.a)({},this._offset);this._animate((function(i){var n=o.x+i*(e.x-o.x),a=o.y+i*(e.y-o.y);t._offset={x:n,y:a},t._update()}))},e.prototype._zoomOutAnimation=function(){var t=this;if(1!==this._zoomFactor){var e=this._zoomFactor,o=this._getCurrentZoomCenter();this._animate((function(i){var n=e+i*(1-e);t._scaleTo(n,o)}))}},e.prototype._getInitialZoomFactor=function(){return this._initialZoomFactor},e.prototype._getCurrentZoomCenter=function(){var t=this._offset,e=t.x,o=t.y,i=e-this._initialOffset.x,n=o-this._initialOffset.y;return{x:-1*e-i/(1/this._zoomFactor-1),y:-1*o-n/(1/this._zoomFactor-1)}},e.prototype._getOffsetByFirstTouch=function(t){return this._getOffsetTouches(t)[0]},e.prototype._getOffsetTouches=function(t){var e=this.props._document,o=e.documentElement,i=e.body,n=this._getContainerRect(),a=n.top,r=n.left,s=o.scrollTop||i.scrollTop,h=o.scrollLeft||i.scrollLeft,c=a+s,_=r+h;return b(t.touches).map((function(t){var e=t.x,o=t.y;return{x:e-_,y:o-c}}))},e.prototype._animate=function(t,e){var o=this,n=(new Date).getTime(),a=Object(i.a)({timeFn:z,callback:function(){},duration:this.props.animationDuration},e),r=a.timeFn,s=a.callback,h=a.duration,c=function(){if(o._inAnimation){var e=(new Date).getTime()-n,i=e/h;e>=h?(t(1),o._stopAnimation(),s(),o._update()):(i=r(i),t(i),o._update({isAnimation:!0}),requestAnimationFrame(c))}};this._inAnimation=!0,requestAnimationFrame(c)},e.prototype._stopAnimation=function(){this._inAnimation=!1},e.prototype._end=function(){this._hasInteraction=!1,this._sanitize(),this._update()},e.prototype._getContainerRect=function(){return this._containerRef.current.getBoundingClientRect()},e.prototype._getChildSize=function(){var t=this._containerRef.current;return function(t){if(t){var e=t.offsetWidth,o=t.offsetHeight;if(e&&o)return{width:e,height:o};var i=getComputedStyle(t),n=parseFloat(i.width),a=parseFloat(i.height);if(a&&n)return{width:n,height:a}}return{width:0,height:0}}(null===t||void 0===t?void 0:t.firstElementChild)},e.prototype._updateInitialZoomFactor=function(){var t=this._getContainerRect(),e=this._getChildSize(),o=t.width/e.width,i=t.height/e.height;this._initialZoomFactor=u(o,i)},e.prototype._bindEvents=function(){var t=this,e=this._containerRef.current;window.ResizeObserver?(this._containerObserver=new ResizeObserver(this._onResize),this._containerObserver.observe(e)):window.addEventListener("resize",this._onResize),this._handlers.forEach((function(t){var o=t[0],i=t[1];(t[2]||e).addEventListener(o,i,!0)})),Array.from(e.querySelectorAll("img")).forEach((function(e){return e.addEventListener("load",t._onResize)}))},e.prototype._unSubscribe=function(){var t=this,e=this._containerRef.current;this._containerObserver&&(this._containerObserver.disconnect(),this._containerObserver=null),window.removeEventListener("resize",this._onResize),this._handlers.forEach((function(t){var o=t[0],i=t[1];(t[2]||e).removeEventListener(o,i,!0)})),Array.from(e.querySelectorAll("img")).forEach((function(e){return e.removeEventListener("load",t._onResize)}))},e.prototype._update=function(t){var e=this;if(!this._updatePlaned){var o=function(){var t=e._getInitialZoomFactor()*e._zoomFactor,o=-e._offset.x/t,i=-e._offset.y/t;e.props.onUpdate({scale:t,x:o,y:i})};if(null===t||void 0===t?void 0:t.isAnimation)return o();this._updatePlaned=!0,requestAnimationFrame((function(){e._updatePlaned=!1,o()}))}},e.prototype._handlerIfEnable=function(t){var e=this;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];e.props.enabled&&t.apply(void 0,o)}},e.prototype._setInteraction=function(t,e){var o=this._interaction;o!==t&&(o&&!t&&(y(o)?this._handleZoomEnd():m(o)&&this._handleDragEnd()),y(t)?this._handleZoomStart():m(t)&&this._handleDragStart(e)),this._interaction=t},e.prototype._updateInteraction=function(t){var e=this._fingers;return 2===e?this._setInteraction("zoom",t):1===e&&this._canDrag()?this._setInteraction("drag",t):void this._setInteraction(null,t)},e.prototype._detectDoubleTap=function(t){var e=(new Date).getTime();this._fingers>1&&(this._lastTouchStart=0),e-this._lastTouchStart<300?(g(t),this._handleDoubleTap(t),y(this._interaction)?this._handleZoomEnd():m(this._interaction)&&this._handleDragEnd()):this._isDoubleTap=!1,1===this._fingers&&(this._lastTouchStart=e)},e.prototype.simulate=function(t){var e=this;return function(o){var i=o.pageX,n=o.pageY,a=o.type,r="mouseup"===a;"mousedown"===a&&(o.preventDefault(),e._listenMouseMove=!0),e._listenMouseMove&&(o.touches=r?[]:[{pageX:i,pageY:n}],t(o)),r&&(e._listenMouseMove=!1)}},e.prototype.componentDidMount=function(){this._bindEvents(),this._update()},e.prototype.componentWillUnmount=function(){this._stopAnimation(),this._unSubscribe()},e.prototype.render=function(){var t=this.props,e=t.children,o=t.containerProps,r=n.Children.only(e),s=o||{};return n.createElement(n.Fragment,null,n.createElement("style",null,a),n.createElement("div",Object(i.a)({},s,{ref:this._containerRef,className:c("kvfysmfp",s.className)}),n.cloneElement(r,{className:c("ufhsfnkm",r.props.className)})))},e.defaultProps={animationDuration:250,draggableUnZoomed:!0,enabled:!0,inertia:!0,inertiaFriction:.96,horizontalPadding:0,isTouch:s,lockDragAxis:!1,maxZoom:5,minZoom:.5,onDoubleTap:D,onDragEnd:D,onDragStart:D,onDragUpdate:D,onZoomEnd:D,onZoomStart:D,onZoomUpdate:D,setOffsetsOnce:!1,shouldInterceptWheel:w,shouldCancelHandledTouchEndEvents:!1,tapZoomFactor:1,verticalPadding:0,wheelScaleFactor:1500,zoomOutFactor:1.3,_document:p?null:window.document},e}(n.Component);e.a=I}}]);
//# sourceMappingURL=https://sourcemaps.intern.chemmedia.de/rre-view-openKnowledgeworker/23.7.5296/pinchToZoom-vendors.8e22f1e5.chunk.js.map